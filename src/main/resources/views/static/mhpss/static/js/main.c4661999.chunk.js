(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{489:function(e,t,a){},707:function(e,t,a){},708:function(e,t,a){},946:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),c=a(20),i=a.n(c),n=a(50),o=a(10),d=(a(119),a(707),a(708),a(709),a(1014)),l=a(1015),j=a(1051),m=a(1037),b=a(1016),h=a(9),u=a.n(h),p=a(122),x=a.n(p);const O=new URLSearchParams(window.location.search).get("jwt"),g="/api/v1/";a(232);var f=a(46),N=a(171),v=a.n(N),y=a(181),S=a.n(y),I=a(172),R=a.n(I),C=a(179),w=a.n(C),D=a(116),P=a.n(D),T=a(115),A=a.n(T),k=a(173),B=a.n(k),E=a(174),z=a.n(E),q=a(176),_=a.n(q),F=a(177),L=a.n(F),H=a(178),M=a.n(H),U=a(182),Y=a.n(U),V=a(175),W=a.n(V),G=a(180),K=a.n(G),J=a(183),X=a.n(J),Z=(a(62),a(501)),Q=a(1008),$=a(394),ee=(a(352),a(26)),te=a.n(ee),ae=a(250),re=a.n(ae),se=a(2);te.a.locale("en"),re()();const ce={Add:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(v.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(R.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(B.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(z.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(W.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(M.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(Y.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(X.a,{...e,ref:t})))};var ie=e=>{const[t,a]=Object(r.useState)([]),[s,c]=Object(r.useState)(!0),[i,n]=Object(r.useState)(!0);Object(r.useEffect)((()=>{!async function(){c(!0),u.a.get("".concat(g,"mhpss-screening/persons"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{c(!1),a(e.data)})).catch((e=>{c(!1)}))}()}),[]);const o=e=>{e.target.checked?n(!1):n(!0)};return Object(se.jsx)("div",{children:Object(se.jsx)(x.a,{icons:ce,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:i},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((t,a)=>u.a.get("".concat(g,"mhpss-screening/persons?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>e)).then((a=>{t({data:a.data.records.map((e=>({name:e.firstName+" "+e.surname,hospital_number:e.hospitalNumber,gender:e&&e.gender?e.gender:"",age:e.age,actions:Object(se.jsx)("div",{children:Object(se.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(se.jsxs)(Q.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(se.jsx)(Z.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(se.jsx)($.a,{})}),Object(se.jsx)(Z.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(se.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}))),page:e.page,totalCount:a.data.totalRecords})})))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(se.jsxs)("div",{children:[Object(se.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==i,onChange:o,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(se.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(se.jsx)(p.MTableToolbar,{...e})]})}})})};a(430);te.a.locale("en"),re()();const ne={borderRadius:"2px",fontSize:14};var oe=()=>{const[e,t]=Object(r.useState)("home");return Object(se.jsxs)(r.Fragment,{children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsx)("h4",{children:"MHPSS"})})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(d.a,{children:Object(se.jsx)(l.a,{xl:12,children:Object(se.jsx)(j.a,{style:ne,children:Object(se.jsx)(j.a.Body,{children:Object(se.jsx)("div",{className:"custom-tab-1",children:Object(se.jsx)(m.a,{id:"controlled-tab-example",activeKey:e,onSelect:e=>t(e),className:"mb-3",children:Object(se.jsx)(b.a,{eventKey:"home",title:"Find Patients",children:Object(se.jsx)(ie,{})})})})})})})})]})},de=a(7),le=a(1042),je=a(1052),me=(a(12),a(1012)),be=a(1013),he=a(192),ue=a(1011),pe=a(1017),xe=a(1018);var Oe=(e,t)=>{switch(t.type){case"LOAD_PATIENT_OBJECT":return{...e,patientObject:t.payload};case"SET_ACTIVE_CONTENT":return{...e,activeContent:t.payload};default:return e}};const ge=Object(r.createContext)(),fe=e=>{let{children:t}=e;const[a,s]=Object(r.useReducer)(Oe,{patientObject:{},activeContent:{}});return Object(se.jsx)(ge.Provider,{value:{...a,dispatch:s},children:t})};var Ne=ge;const ve=e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&c--,0===c?i+" month(s)":c+" year(s)"};var ye=a(667),Se=a(125),Ie=a(71);te.a.locale("en"),re()();var Re=Object(de.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){const{classes:t}=e,{patientObject:a,dispatch:s}=Object(r.useContext)(Ne),[c,i]=Object(r.useState)(!1);return Object(se.jsx)("div",{className:t.root,children:Object(se.jsxs)(me.a,{children:[Object(se.jsx)(be.a,{children:Object(se.jsx)(pe.a,{children:Object(se.jsx)(xe.a,{md:12,children:a&&null!==a?Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(pe.a,{className:"mt-1",children:[Object(se.jsxs)(xe.a,{md:12,className:t.root2,children:[Object(se.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:a.firstName+" "+a.surname}),Object(se.jsx)(f.b,{to:"/",children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(se.jsx)(he.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(se.jsx)(xe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Patient ID : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:a.hospitalNumber}),Object(se.jsx)(ye.CopyToClipboard,{text:a.hospitalNumber,onCopy:()=>i(!0),children:Object(se.jsx)("span",{style:{marginLeft:"10px"},children:Object(se.jsx)(Se.a,{icon:Ie.b,size:"lg"})})}),c&&(Object(o.b)("Copied!",{position:o.b.POSITION.TOP_RIGHT}),void i(!1))]})}),Object(se.jsx)(xe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:["Date Of Birth : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:a.dateOfBirth})]})}),Object(se.jsx)(xe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Age : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:ve(te()(a.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(se.jsx)(xe.a,{md:4,children:Object(se.jsxs)("span",{children:[" ","Gender :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:a.gender})]})}),Object(se.jsx)(xe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Phone Number : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:a.phone})]})}),Object(se.jsx)(xe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Address : ",Object(se.jsxs)("b",{style:{color:"#0B72AA"},children:[a.address," "]})]})})]})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("p",{children:"Loading please wait.."})})})})}),Object(se.jsx)(ue.a,{})]})})})),Ce=a(1036);var we=function(){const{patientObject:e,activeContent:t,dispatch:a}=Object(r.useContext)(Ne);return Object(r.useEffect)((()=>{}),[e]),Object(se.jsx)("div",{children:Object(se.jsxs)(Ce.a,{size:"large",color:"black",inverted:!0,children:["(",Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Ce.a.Item,{onClick:()=>{a({type:"SET_ACTIVE_CONTENT",payload:{route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}})},children:"Home"}),Object(se.jsx)(Ce.a.Item,{onClick:()=>{a({type:"SET_ACTIVE_CONTENT",payload:{route:"patient-history"}})},children:"History"})]}),")"]})})},De=a(1033),Pe=a(502),Te=a.n(Pe),Ae=a(1041),ke=a(1035),Be=a(1045);var Ee=()=>{const[e,t]=Object(r.useState)([]),[a,c]=Object(r.useState)(null),[i,n]=Object(r.useState)(!1),[d,l]=s.a.useState(!1),[m,b]=Object(r.useState)(null),h=()=>l(!d),[p,x]=Object(r.useState)(0),{patientObject:f,activeContent:N,dispatch:v}=Object(r.useContext)(Ne);Object(r.useEffect)((()=>{y()}),[f.personUuid]);const y=()=>{u.a.get("".concat(g,"mhpss-screening/activities/patients/").concat(f.personUuid,"?full=true"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{t(e.data)})).catch((e=>{}))},S=(e,t)=>{"mhpss-screening"===e.path&&v({type:"SET_ACTIVE_CONTENT",payload:{route:"mhpss-screening",id:e.id,actionType:t}})};return Object(se.jsxs)(r.Fragment,{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(se.jsx)("h4",{className:"card-title",children:" Recent Activities"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsx)(Te.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(se.jsx)(Ae.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(se.jsx)(se.Fragment,{children:e.map(((e,t)=>Object(se.jsxs)("div",{className:"accordion-item",children:[Object(se.jsxs)(Ae.a.Toggle,{as:j.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===p?"":"collapsed"," accordion-header-info"),onClick:()=>x(1===p?-1:t),children:[Object(se.jsx)("span",{className:"accordion-header-icon"}),Object(se.jsxs)("span",{className:"accordion-header-text",children:["Encounter Date : ",Object(se.jsx)("span",{className:"",children:e.date})," "]}),Object(se.jsx)("span",{className:"accordion-header-indicator"})]}),Object(se.jsx)(Ae.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(se.jsx)("div",{className:"accordion-body-text",children:Object(se.jsx)("ul",{className:"timeline",children:e.activities&&e.activities.map(((a,r)=>{return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("li",{children:Object(se.jsxs)("div",{className:"timeline-panel",children:[Object(se.jsx)("div",{className:t%2==0?"media me-2 media-info":"media me-2 media-success",children:(s=e.name,"MHPSS Screening"===s?"MHPSS":"Unknown Name")}),Object(se.jsxs)("div",{className:"media-body",children:[Object(se.jsx)("h5",{className:"mb-1",children:a.name}),Object(se.jsx)("small",{className:"d-block",children:a.date})]}),Object(se.jsxs)(De.a,{className:"dropdown",children:[Object(se.jsx)(De.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(se.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(se.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(se.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(se.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(se.jsxs)(De.a.Menu,{className:"dropdown-menu",children:[Object(se.jsx)(De.a.Item,{className:"dropdown-item",onClick:()=>S(a,"view"),children:"View"}),Object(se.jsx)(De.a.Item,{className:"dropdown-item",onClick:()=>S(a,"update"),children:"Update"}),Object(se.jsx)(De.a.Item,{className:"dropdown-item",to:"/widget-basic",onClick:()=>{return e=a,h(),void b(e);var e},children:"Delete"})]})]})]})})});var s}))})})})]},t)))})})})})]})}),Object(se.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header border-0  pb-2",style:{backgroundColor:"#EEEEEE"},children:Object(se.jsx)("h4",{className:"card-title",children:"Summary "})}),Object(se.jsx)("div",{className:"row",children:a&&null!==a&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:Object(se.jsxs)("div",{className:"card overflow-hidden",children:[Object(se.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(se.jsx)("span",{className:"s-icon",children:Object(se.jsxs)("span",{style:{fontSize:"16px"},children:["Total Clinic Visit : ",a.visitCount]})})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-6 border-right",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsx)("span",{className:"counter",children:Object(se.jsx)("b",{children:a.encounterDate})})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Last Visit "})})]})}),Object(se.jsx)("div",{className:"col-6",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsx)("span",{className:"counter",children:Object(se.jsx)("b",{children:a.nextAppointment})})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Next Visit"})})]})})]})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12 col-sm-12",children:Object(se.jsx)("div",{className:"widget-stat card",children:Object(se.jsxs)("div",{className:"card-body p-4",style:{backgroundColor:"#fff"},children:[Object(se.jsx)("h4",{className:"card-title",style:{fontSize:"15px"},children:Object(se.jsx)("b",{children:"Current Regimen Given"})}),Object(se.jsx)("h4",{class:"text-info ",children:a.regimen})]})})})]})}),Object(se.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"card overflow-hidden",children:[Object(se.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(se.jsx)("span",{className:"s-icon",children:Object(se.jsxs)("span",{style:{fontSize:"16px"},children:["BMI : ",(a.weight/(a.height/100*(a.height/100))).toFixed(2)," kg/m",Object(se.jsx)("sup",{children:"2"})]})})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-6 border-right",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsxs)("span",{className:"counter",children:[a.weight," Kg"]})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Weight "})})]})}),Object(se.jsx)("div",{className:"col-6",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsxs)("span",{className:"counter",children:[a.height," cm"]})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Height "})})]})})]})]})})})]})})]})})]}),Object(se.jsxs)(ke.a,{show:d,toggle:h,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(ke.a.Header,{children:Object(se.jsx)(ke.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(ke.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:m&&m.name})]})}),Object(se.jsxs)(ke.a.Footer,{children:[Object(se.jsx)(Be.a,{onClick:()=>{var e;"mhpss-screening"===(e=m).path&&(n(!0),u.a.delete("".concat(g,"mhpss-screening/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{n(!1),o.b.success("Record Deleted Successfully"),y(),h()})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:i,children:!1===i?"Yes":"Deleting..."}),Object(se.jsx)(Be.a,{onClick:h,style:{backgroundColor:"#014d88",color:"#fff"},disabled:i,children:"No"})]})]})]})},ze=a(595),qe=a(1034),_e=a(199);const Fe={Add:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(v.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(R.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(B.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(z.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(W.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(L.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(M.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(Y.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(X.a,{...e,ref:t})))};Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Le=e=>{const[t,a]=Object(r.useState)([]),[c,i]=Object(r.useState)(!0),[n,d]=Object(r.useState)(!1),[l,j]=s.a.useState(!1),[m,b]=Object(r.useState)(null),h=()=>j(!l),{patientObject:p,activeContent:f,dispatch:N}=Object(r.useContext)(Ne);Object(r.useEffect)((()=>{v()}),[p.personUuid]);const v=()=>{i(!0),u.a.get("".concat(g,"mhpss/general-activities/patients/").concat(p.personUuid),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{i(!1),a(e.data)})).catch((e=>{}))},y=(t,a)=>{"prep-eligibility"===t.path?e.setActiveContent({...e.activeContent,route:"prep-screening",id:t.id,actionType:a}):"prep-enrollment"===t.path?e.setActiveContent({...e.activeContent,route:"prep-registration",id:t.id,actionType:a}):"prep-clinic"===t.path?e.setActiveContent({...e.activeContent,route:"consultation",id:t.id,actionType:a}):"prep-commencement"===t.path&&e.setActiveContent({...e.activeContent,route:"prep-commencement",id:t.id,actionType:a})};return Object(se.jsxs)("div",{children:[Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{icons:Fe,title:"Patient History ",columns:[{title:"Name",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:c,data:t&&t.map((e=>({name:e.name,date:e.date,actions:Object(se.jsx)("div",{children:Object(se.jsx)(Ce.a.Menu,{position:"right",children:Object(se.jsx)(Ce.a.Item,{children:Object(se.jsx)(Be.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(se.jsx)(qe.a,{item:!0,text:"Action",children:Object(se.jsxs)(qe.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(se.jsxs)(qe.a.Item,{onClick:()=>y(e,"view"),children:[" ",Object(se.jsx)(_e.a,{name:"eye"}),"View  "]}),e.viewable&&Object(se.jsxs)(qe.a.Item,{onClick:()=>y(e,"update"),children:[Object(se.jsx)(_e.a,{name:"edit"}),"Edit"]}),Object(se.jsxs)(qe.a.Item,{onClick:()=>(e=>{h(),b(e)})(e),children:[" ",Object(se.jsx)(_e.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(se.jsxs)(ke.a,{show:l,toggle:h,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(ke.a.Header,{children:Object(se.jsx)(ke.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(ke.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:m&&m.name})]})}),Object(se.jsxs)(ke.a.Footer,{children:[Object(se.jsx)(Be.a,{onClick:()=>{var e;"prep-eligibility"===(e=m).path?(d(!0),u.a.delete("".concat(g,"prep-eligibility/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),v(),h()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(d(!0),u.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),v(),h()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(d(!0),u.a.delete("".concat(g,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),v(),h()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path&&(d(!0),u.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),v(),h()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:n,children:!1===n?"Yes":"Deleting..."}),Object(se.jsx)(Be.a,{onClick:h,style:{backgroundColor:"#014d88",color:"#fff"},disabled:n,children:"No"})]})]})]})},He=(a(1048),a(1049),a(1019)),Me=a(1020),Ue=a(1021),Ye=(a(1022),a(1023),a(47)),Ve=a.n(Ye);Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));a(1024),a(1025);var We=a(1026);Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ge=a(120),Ke=a.n(Ge);Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Je=a(1009);a(354),a(1044);Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));a(613);Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})));var Xe=a(102),Ze=a.n(Xe);Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));a(506),a(1038),a(225),a(1027),a(1039),a(1028),a.p,a(670),a(93);Object(ze.a)((e=>({root:{width:"100%","& .dropdown-toggle::after, .dropleft .dropdown-toggle::before, .dropright .dropdown-toggle::before, .dropup .dropdown-toggle::after":{fontFamily:"FontAwesome",border:"0",verticalAlign:"middle",marginLeft:".25em",lineHeight:"1"},"& .dropdown-menu .dropdown-item":{fontSize:"14px",color:"#014d88",padding:"0.3rem 1.5rem",fontWeight:"bold"},"& .mt-4":{marginTop:"28px !important"},"& .form-control":{color:"#992E62"},"& .form-control:focus":{color:"#014d88"},"& .sharp ":{"min-width":"35px",padding:"5px",height:"35px","min-height":"35px"}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}})));var Qe=Object(de.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(n.g)();const{patientObject:a,activeContent:s,dispatch:c}=Object(r.useContext)(Ne),{classes:i}=e;return Object(r.useEffect)((()=>{c({type:"LOAD_PATIENT_OBJECT",payload:t.location&&t.location.state?t.location.state.patientObj:{}}),c({type:"SET_ACTIVE_CONTENT",payload:{route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}})}),[c]),Object(se.jsxs)("div",{className:i.root,children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(f.b,{to:"/",children:"MHPSS /"})," Patient Dashboard"]})})})}),Object(se.jsx)(le.a,{children:Object(se.jsxs)(je.a,{children:[Object(se.jsx)(Re,{}),Object(se.jsx)(we,{}),Object(se.jsx)("br",{}),"patient-history"===s.route&&Object(se.jsx)(Le,{}),"recent-history"===s.route&&Object(se.jsx)(Ee,{})]})})]})})),$e=a(1032),et=a(126),tt=a(1010),at=a(264),rt=a.n(at);a(489);et.b.add(Ie.a,Ie.c,Ie.d,Ie.e);const st=Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ct=e=>{const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",sexId:"",ninNumber:""}),[c,i]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[d,l]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[j,m]=Object(r.useState)([]),[b,h]=Object(r.useState)(!1),[p,x]=Object(r.useState)(!1),[N,v]=Object(r.useState)(!0),[y,S]=Object(r.useState)(!1),[I,R]=Object(r.useState)(null),[C,w]=Object(r.useState)([]),[D,P]=Object(r.useState)([]),[T,A]=Object(r.useState)([]),[k,B]=Object(r.useState)([]),[E,z]=Object(r.useState)([]),[q,_]=Object(r.useState)([]),[F,L]=Object(r.useState)([]),[H,M]=Object(r.useState)([]),[U,Y]=Object(r.useState)({}),[V,W]=Object(r.useState)([]),G=e.location&&e.location.state?e.location.state.user:null,K=st(),J=Object(n.g)(),X=Object(n.h)(),[Q,$]=Object(r.useState)(!1),[te,ae]=Object(r.useState)({dateEnrolled:"",dateOfLastHivNegativeTest:"",dateReferredForPrep:"",extra:{},hivTestingPoint:"",prepRiskType:"",personDto:{},personId:0,prepSupporter:"",uniqueClientId:"",ancUnique:""}),[re,ce]=Object(r.useState)([]),[ie,ne]=Object(r.useState)([]),[oe,de]=Object(r.useState)([]),[le,je]=Object(r.useState)([]),[me,be]=Object(r.useState)([]),[ue,pe]=Object(r.useState)([]),[xe,Oe]=Object(r.useState)([]),[ge,fe]=Object(r.useState)(!1),[Ne,ve]=Object(r.useState)(!1),[ye,Ie]=Object(r.useState)(!1),[Re,Ce]=s.a.useState(!1),we=()=>Ce(!Re),De=X.state;let Pe=null;Pe=De?De.patientId:null,Object(r.useEffect)((()=>{Te(),Ae(),Be(),Ee(),ze(),qe(),Qe(),et(),at(),ct(),it(),nt(),ot(),_e(),t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[t.dateOfRegistration]);const Te=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}});w(e.data)}catch(e){}}),[]),Ae=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}});P(e.data)}catch(e){}}),[]),Be=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(O)}});A(e.data)}catch(e){}}),[]),Ee=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(O)}});B(e.data)}catch(e){}}),[]),ze=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}});z(e.data)}catch(e){}}),[]),qe=Object(r.useCallback)((async()=>{const e=await u.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}});W(e.data)}),[]),_e=()=>{u.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{_(e.data)})).catch((e=>{}))};const Fe=e=>{"Actual"==e.target.value?v(!0):"Estimated"==e.target.value&&v(!1)},Le=e=>{if(a({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"377"===e.target.value&&$(!0),"firstName"===e.target.name&&""!==e.target.value){const r=Xe(e.target.value);a({...t,[e.target.name]:r})}if("lastName"===e.target.name&&""!==e.target.value){const s=Xe(e.target.value);a({...t,[e.target.name]:s})}if("middleName"===e.target.name&&""!==e.target.value){const c=Xe(e.target.value);a({...t,[e.target.name]:c})}if("ninNumber"===e.target.name&&""!==e.target.value){const i=jt(e.target.value);a({...t,[e.target.name]:i})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function n(){const t=e.target.value;!0!==(await u.a.post("".concat(g,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(O),"Content-Type":"text/plain"}})).data?(ve(!1),U.hospitalNumber="",ae({...te,uniqueId:e.target.value}),Ie(!0)):(U.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),ve(!0),Ie(!1))}n()}},Ye=e=>{const t=E.find((t=>t.id==e));return t?t.display:""},Ge=e=>{i({...c,[e.target.name]:e.target.value})},Xe=e=>e.replace(/[^a-z]/gi,""),Qe=()=>{u.a.get("".concat(g,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ce(e.data)})).catch((e=>{}))},et=()=>{u.a.get("".concat(g,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ne(e.data)})).catch((e=>{}))},at=()=>{u.a.get("".concat(g,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{de(e.data)})).catch((e=>{}))},ct=()=>{u.a.get("".concat(g,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{je(e.data)})).catch((e=>{}))},it=()=>{u.a.get("".concat(g,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{be(e.data)})).catch((e=>{}))},nt=()=>{u.a.get("".concat(g,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{pe(e.data)})).catch((e=>{}))},ot=()=>{u.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{Oe(e.data)})).catch((e=>{}))},dt=e=>{Y({...U,[e.target.name]:""}),ae({...te,[e.target.name]:e.target.value})},lt=(e,r)=>{a({...t,[r]:e.slice(0,10)})},jt=e=>e.slice(0,11);return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(f.b,{to:"/",children:"Prep /"})," Patient Registration"]})})})}),Object(se.jsx)(f.b,{to:{pathname:"/",state:"users"},children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(se.jsx)(he.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(Je.a,{className:K.root,children:Object(se.jsx)(tt.a,{children:Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===G?"Basic Information":"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:ee(new Date).format("YYYY-MM-DD"),value:t.dateOfRegistration,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateOfRegistration?Object(se.jsx)("span",{className:K.error,children:U.dateOfRegistration}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.hospitalNumber?Object(se.jsx)("span",{className:K.error,children:U.hospitalNumber}):"",!0===Ne?Object(se.jsx)("span",{className:K.error,children:"Hospital number already exist"}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.firstName?Object(se.jsx)("span",{className:K.error,children:U.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Middle Name"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.lastName?Object(se.jsx)("span",{className:K.error,children:U.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Le,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),C.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.sexId?Object(se.jsx)("span",{className:K.error,children:U.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Fe(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Fe(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date "}),Object(se.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:t.dateOfRegistration,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();c<18?(alert("The child is less than 18months"),x(!0)):x(!1),(c<0||0===c&&a.getDate()<r.getDate())&&s--,t.age=s}else a({...t,age:""});a({...t,dob:e.target.value}),""!==t.age&&t.age>=60&&we()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Age"}),Object(se.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"1",value:t.age,disabled:N,onChange:e=>{if(!N&&e.target.value){""!==e.target.value&&e.target.value>=60&&we(),e.target.value<=1?x(!0):x(!1);const a=new Date;a.setDate(15),a.setMonth(5);const r=ee(a.toISOString()).add(-1*e.target.value,"years");t.dob=ee(r).format("YYYY-MM-DD")}a({...t,age:Math.abs(e.target.value)})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Le,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Le,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.employmentStatusId?Object(se.jsx)("span",{className:K.error,children:U.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Le,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),T.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.educationId?Object(se.jsx)("span",{className:K.error,children:U.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:t.ninNumber,id:"ninNumber",onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Phone Number *"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:t.phoneNumber,onChange:e=>{lt(e,"phoneNumber")}}),""!==U.phoneNumber?Object(se.jsx)("span",{className:K.error,children:U.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Alt. Phone Number"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:e=>{lt(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Le,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;console.log(r),function(e){u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{console.log(e.data),L(e.data)})).catch((e=>{}))}(r),a({...t,countryId:r})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),q.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==U.countryId?Object(se.jsx)("span",{className:K.error,children:U.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;a({...t,stateId:e.target.value}),u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{M(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),F.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==U.stateId?Object(se.jsx)("span",{className:K.error,children:U.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Le,children:[Object(se.jsx)("option",{value:"",children:"Select"}),H.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==U.district?Object(se.jsx)("span",{className:K.error,children:U.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.address?Object(se.jsx)("span",{className:K.error,children:U.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",onChange:Le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[j&&j.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:j.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:Ye(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{i(e),S(!0),j.splice(t,1)})(e,t),children:Object(se.jsx)(Se.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{j.splice(e,1),m([...j])})(t),children:Object(se.jsx)(Se.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:y&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:c.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge,children:[Object(se.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.relationshipId?Object(se.jsx)("span",{className:K.error,children:U.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:c.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge}),""!==U.firstName?Object(se.jsx)("span",{className:K.error,children:U.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:c.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:c.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge}),""!==U.lastName?Object(se.jsx)("span",{className:K.error,children:U.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:c.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:e=>{((e,t)=>{i({...c,[t]:e.slice(0,10)})})(e,"phone")}}),""!==U.phone?Object(se.jsx)("span",{className:K.error,children:U.phone}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:c.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge,required:!0})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:c.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:K.button,onClick:e=>{(()=>{let e={...U};return e.firstName=c.firstName?"":"First Name is required",e.lastName=c.lastName?"":"Last Name  is required.",e.phone=c.phone?"":"Phone Number  is required.",e.relationshipId=c.relationshipId?"":"Relationship Type is required.",Y({...e}),Object.values(e).every((e=>""==e))})()&&(m([...j,c]),i({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:K.button,onClick:()=>{S(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:K.button,startIcon:Object(se.jsx)(rt.a,{}),onClick:()=>{S(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Prep  Enrollment"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Registration "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"uniqueId",children:"Unique Client's ID  * "}),Object(se.jsx)(Ue.a,{type:"text",name:"uniqueClientId",id:"uniqueClientId",onChange:dt,value:te.uniqueClientId,required:!0}),""!==U.uniqueClientId?Object(se.jsx)("span",{className:K.error,children:U.uniqueClientId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(se.jsx)(Ue.a,{type:"text",name:"ancUnique",id:"ancUnique",onChange:dt,value:te.ancUnique,required:!0}),""!==U.ancUnique?Object(se.jsx)("span",{className:K.error,children:U.ancUnique}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date enrolled in PrEP *"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateEnrolled",id:"dateEnrolled",value:te.dateEnrolled,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateEnrolled?Object(se.jsx)("span",{className:K.error,children:U.dateEnrolled}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"entryPointId",children:"PrEP Risk Type*"}),Object(se.jsxs)(Ue.a,{type:"select",name:"prepRiskType",id:"prepRiskType",onChange:dt,value:te.prepRiskType,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),re.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==U.prepRiskType?Object(se.jsx)("span",{className:K.error,children:U.prepRiskType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"HIV Testing Point "}),Object(se.jsxs)(Ue.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:dt,value:te.hivTestingPoint,required:!0,children:[Object(se.jsx)("option",{value:"Select",children:" "}),oe.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==U.hivTestingPoint?Object(se.jsx)("span",{className:K.error,children:U.hivTestingPoint}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date of last HIV Negative test*"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:te.dateOfLastHivNegativeTest,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateOfLastHivNegativeTest?Object(se.jsx)("span",{className:K.error,children:U.dateOfLastHivNegativeTest}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Referred for PrEP * "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateReferredForPrep",id:"dateReferredForPrep",value:te.dateReferredForPrep,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateReferredForPrep?Object(se.jsx)("span",{className:K.error,children:U.dateReferredForPrep}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"PrEP Supporter "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"prepSupporter",id:"prepSupporter",value:te.prepSupporter,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.prepSupporter?Object(se.jsx)("span",{className:K.error,children:U.prepSupporter}):""]})})]})})]}),b?Object(se.jsx)(We.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:K.button,startIcon:Object(se.jsx)(Ve.a,{}),onClick:async e=>{if(e.preventDefault(),(()=>{let e={...U};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Gender is required.",e.dateOfRegistration=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.uniqueClientId=te.uniqueClientId?"":"Unique ID is required.",e.dateEnrolled=te.dateEnrolled?"":"Date enrolled is required.",e.dateOfLastHivNegativeTest=te.dateOfLastHivNegativeTest?"":"date of last HIV test is required.",e.dateReferredForPrep=te.dateReferredForPrep?"":"Date referred is required.",e.hivTestingPoint=te.hivTestingPoint?"":"Hiv test point is required.",e.prepRiskType=te.prepRiskType?"":"PrEp risk type is required.",e.prepSupporter=te.prepSupporter?"":"PrEp supporter is required.",Y({...e}),Object.values(e).every((e=>""==e))})()){let e=[];j&&j.length>0&&j.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));try{const a={active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:e,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.sexId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},r={type:"phone",value:t.phoneNumber};if(t.email){const e={type:"email",value:t.email};a.contactPoint.push(e)}if(t.altPhonenumber){const e={type:"altphone",value:t.altPhonenumber};a.contactPoint.push(e)}a.contactPoint.push(r),a.id=Pe,te.personDto=a,te.personId=Pe;await u.a.post("".concat(g,"prep"),te,{headers:{Authorization:"Bearer ".concat(O)}});o.b.success("Registeration save successful"),J.push("/")}catch(a){if(a.response&&a.response.data){let e=a.response.data&&""!==a.response.data.apierror.message?a.response.data.apierror.message:"Something went wrong, please try again";o.b.error(e)}}}},disabled:p,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:b?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(Z.a,{variant:"contained",className:K.button,startIcon:Object(se.jsx)(Ke.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>{J.push({pathname:"/"})},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(se.jsxs)(ke.a,{show:Re,toggle:we,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(ke.a.Header,{children:Object(se.jsx)(ke.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(ke.a.Body,{children:Object(se.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(se.jsx)(ke.a.Footer,{children:Object(se.jsx)(Z.a,{onClick:we,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};a(659),a(654),a(653);et.b.add(Ie.a,Ie.c,Ie.d,Ie.e);const it=Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var nt=e=>{const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[c,i]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[d,l]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[j,m]=Object(r.useState)([]),[b,h]=Object(r.useState)(!1),[p,x]=Object(r.useState)(!1),[N,v]=Object(r.useState)(!0),[y,S]=Object(r.useState)(!1),[I,R]=Object(r.useState)(null),[C,w]=Object(r.useState)([]),[D,P]=Object(r.useState)([]),[T,A]=Object(r.useState)([]),[k,B]=Object(r.useState)([]),[E,z]=Object(r.useState)([]),[q,_]=Object(r.useState)([]),[F,L]=Object(r.useState)([]),[H,M]=Object(r.useState)([]),[U,Y]=Object(r.useState)({}),[V,W]=Object(r.useState)([]),[G,K]=Object(r.useState)({person:"",hivEnrollment:""}),J=e.location&&e.location.state?e.location.state.user:null,X=it(),Q=Object(n.g)(),$=Object(n.h)(),[te,ae]=Object(r.useState)(!1),[re,ce]=Object(r.useState)({dateEnrolled:"",dateOfLastHivNegativeTest:"",dateReferredForPrep:"",extra:{},hivTestingPoint:"",prepRiskType:"",personDto:{},personId:0,prepSupporter:"",uniqueClientId:"",ancUnique:""}),[ie,ne]=Object(r.useState)([]),[oe,de]=Object(r.useState)([]),[le,je]=Object(r.useState)([]),[me,be]=Object(r.useState)([]),[ue,pe]=Object(r.useState)([]),[xe,Oe]=Object(r.useState)([]),[ge,fe]=Object(r.useState)([]),[Ne,ve]=Object(r.useState)([]),[ye,Ie]=Object(r.useState)(!1),[Re,Ce]=Object(r.useState)(!1),[we,De]=Object(r.useState)("false"),[Pe,Te]=s.a.useState(!1),Ae=()=>Te(!Pe),Be=$.state;let Ee=null,ze={};Ee=Be?Be.patientId:null,ze=Be?Be.patientObj:{},Object(r.useEffect)((()=>{if(_e(),qe(),Fe(),Le(),Ye(),Ge(),Xe(),jt(),mt(),bt(),ht(),ut(),pt(),xt(),Qe(),ze){const a=ze&&ze.contact?ze.contact:[];let r=[];a.contact&&a.contact.length>0&&a.contact.map((e=>{const t={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};r.push(t)}));m(r);const s=ze.identifier,c=ze.address,i=ze.contactPoint,n=s.identifier.find((e=>"HospitalNumber"===e.type)),o=i.contactPoint.find((e=>"phone"===e.type)),d=i.contactPoint.find((e=>"email"===e.type)),l=i.contactPoint.find((e=>"altphone"===e.type)),j=c&&c.address&&c.address.length>0?c.address[0]:null;t.dob=ze.dateOfBirth,t.firstName=ze.firstName,t.dateOfRegistration=ze.dateOfRegistration,t.middleName=ze.otherName,t.lastName=ze.surname,t.hospitalNumber=n&&n?n.value:"",ce({...re,uniqueId:n?n.value:""}),t.maritalStatusId=ze&&ze.maritalStatus?ze.maritalStatus.id:"",t.employmentStatusId=ze&&ze.employmentStatus?ze.employmentStatus.id:"",t.genderId=ze&&ze.gender?ze.gender.id:null,t.educationId=ze&&ze.education?ze.education.id:"",t.phoneNumber=o&&o.value?o.value:"",t.altPhonenumber=l&&l.value?l.value:"",t.email=d&&d.value?d.value:"",t.address=j&&j.city?j.city:"",t.landmark=j.line&&j.line.length>0?j.line[0]:"",t.countryId=j&&j.countryId?j.countryId:"",et(j.countryId),e=j&&j.stateId?j.stateId:"",u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{M(e.data)})).catch((e=>{})),t.stateId=j&&j.stateId?j.stateId:"",t.district=j&&j.district?j.district:"";const b=at(ee(ze.dateOfBirth).format("DD-MM-YYYY"));t.age=b,ae("Female"===ze.sex),ze.age<=14&&Ce(!0),t.ninNumber=ze.ninNumber}var e;t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[ze,Ee,t.dateOfRegistration]);const qe=()=>{u.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{const a=e.data.find((e=>e.display===ze.sex));t.sexId=a.display})).catch((e=>{}))},_e=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}});w(e.data)}catch(e){}}),[]),Fe=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}});P(e.data)}catch(e){}}),[]),Le=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(O)}});A(e.data)}catch(e){}}),[]),Ye=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(O)}});B(e.data)}catch(e){}}),[]),Ge=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}});z(e.data)}catch(e){}}),[]),Xe=Object(r.useCallback)((async()=>{const e=await u.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}});W(e.data)}),[]),Qe=()=>{u.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{_(e.data)})).catch((e=>{}))};function et(e){u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{L(e.data)})).catch((e=>{}))}const at=e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&c--,0===c?i+" month(s)":c};const st=e=>{"Actual"==e.target.value?v(!0):"Estimated"==e.target.value&&v(!1)},ct=e=>{if(Y({...U,[e.target.name]:""}),a({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"Female"===e.target.value&&ae(!0),"firstName"===e.target.name&&""!==e.target.value){const r=lt(e.target.value);a({...t,[e.target.name]:r})}if("lastName"===e.target.name&&""!==e.target.value){const r=lt(e.target.value);a({...t,[e.target.name]:r})}if("middleName"===e.target.name&&""!==e.target.value){const r=lt(e.target.value);a({...t,[e.target.name]:r})}if("ninNumber"===e.target.name&&""!==e.target.value){const r=nt(e.target.value);a({...t,[e.target.name]:r})}},nt=e=>e.slice(0,11),ot=e=>{const t=E.find((t=>t.id==e));return t?t.display:""},dt=e=>{i({...c,[e.target.name]:e.target.value})},lt=e=>e.replace(/[^a-z]/gi,""),jt=()=>{u.a.get("".concat(g,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ne(e.data)})).catch((e=>{}))},mt=()=>{u.a.get("".concat(g,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{de(e.data)})).catch((e=>{}))},bt=()=>{u.a.get("".concat(g,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{je(e.data)})).catch((e=>{}))},ht=()=>{u.a.get("".concat(g,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{be(e.data)})).catch((e=>{}))},ut=()=>{u.a.get("".concat(g,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{pe(e.data)})).catch((e=>{}))},pt=()=>{u.a.get("".concat(g,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{Oe(e.data)})).catch((e=>{}))},xt=()=>{u.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ve(e.data)})).catch((e=>{}))},Ot=e=>{Y({...U,[e.target.name]:""}),ce({...re,[e.target.name]:e.target.value})},gt=(e,r)=>{Y({...U,[r]:""}),a({...t,[r]:e.slice(0,10)})};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(f.b,{to:"/",children:"PrEP /"})," Registration"]})})})}),Object(se.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)(Je.a,{className:X.root,children:Object(se.jsxs)(tt.a,{children:[Object(se.jsx)(f.b,{to:{pathname:"/",state:"users"},children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(se.jsx)(he.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===J?"Basic Information":"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateOfRegistration",min:"1983-12-31",max:ee(new Date).format("YYYY-MM-DD"),id:"dateOfRegistration",value:t.dateOfRegistration,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateOfRegistration1?Object(se.jsx)("span",{className:X.error,children:U.dateOfRegistration1}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.hospitalNumber?Object(se.jsx)("span",{className:X.error,children:U.hospitalNumber}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.firstName?Object(se.jsx)("span",{className:X.error,children:U.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Middle Name"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.lastName?Object(se.jsx)("span",{className:X.error,children:U.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:ct,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),C.map(((e,t)=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==U.sexId||null!==U.sexId?Object(se.jsx)("span",{className:X.error,children:U.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>st(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>st(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date"}),Object(se.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:"1940-01-01",max:t.dateOfRegistration,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();c<18?(alert("The child is less than 18months"),x(!0)):x(!1),(c<0||0===c&&a.getDate()<r.getDate())&&s--,t.age=s}else a({...t,age:""});a({...t,dob:e.target.value}),""!==t.age&&t.age>=60&&Ae()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Age"}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:t.age,disabled:N,onChange:e=>{if(!N&&e.target.value){""!==e.target.value&&e.target.value>=60&&Ae(),e.target.value<=1?x(!0):x(!1);const a=new Date;a.setDate(15),a.setMonth(5);const r=ee(a.toISOString()).add(-1*e.target.value,"years");t.dob=ee(r).format("YYYY-MM-DD")}a({...t,age:Math.abs(e.target.value)})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:ct,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:ct,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.employmentStatusId?Object(se.jsx)("span",{className:X.error,children:U.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:ct,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),T.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.educationId?Object(se.jsx)("span",{className:X.error,children:U.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",id:"ninNumber",value:t.ninNumber,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Phone Number *"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:e=>{gt(e,"phoneNumber")}}),""!==U.phoneNumber||null!==U.phoneNumber?Object(se.jsx)("span",{className:X.error,children:U.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Alt. Phone Number"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,onChange:e=>{gt(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:ct,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;et(r),a({...t,countryId:r})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),q.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==U.countryId?Object(se.jsx)("span",{className:X.error,children:U.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;Y({...U,[e.target.name]:""}),a({...t,stateId:e.target.value}),u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{M(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),F.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==U.stateId?Object(se.jsx)("span",{className:X.error,children:U.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ct,children:[Object(se.jsx)("option",{value:"",children:"Select"}),H.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==U.district?Object(se.jsx)("span",{className:X.error,children:U.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:t.address,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.address?Object(se.jsx)("span",{className:X.error,children:U.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:t.landmark,onChange:ct,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[j&&j.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:j.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:ot(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{i(e),S(!0),j.splice(t,1)})(e,t),children:Object(se.jsx)(Se.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{j.splice(e,1),m([...j])})(t),children:Object(se.jsx)(Se.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:y&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:c.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:dt,children:[Object(se.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==U.relationshipId?Object(se.jsx)("span",{className:X.error,children:U.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:c.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:dt}),""!==U.firstName?Object(se.jsx)("span",{className:X.error,children:U.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:c.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:dt})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:c.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:dt}),""!==U.lastName?Object(se.jsx)("span",{className:X.error,children:U.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:c.phone,id:"phone",onChange:e=>{((e,t)=>{i({...c,[t]:e.slice(0,10)})})(e.slice(0,10),"phone")}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:c.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:dt})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:c.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:dt})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:X.button,onClick:e=>{(()=>{let e={...U};return e.firstName=c.firstName?"":"First Name is required",e.lastName=c.lastName?"":"Last Name  is required.",e.relationshipId=c.relationshipId?"":"Relationship Type is required.",Y({...e}),Object.values(e).every((e=>""==e))})()&&m([...j,c])},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:X.button,onClick:()=>{S(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:X.button,startIcon:Object(se.jsx)(rt.a,{}),onClick:()=>{S(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Prep  Enrollment"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Registration "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"uniqueId",children:"Unique Client's ID  * "}),Object(se.jsx)(Ue.a,{type:"text",name:"uniqueClientId",id:"uniqueClientId",onChange:Ot,value:re.uniqueClientId,required:!0}),""!==U.uniqueClientId?Object(se.jsx)("span",{className:X.error,children:U.uniqueClientId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(se.jsx)(Ue.a,{type:"text",name:"ancUnique",id:"ancUnique",onChange:Ot,value:re.ancUnique,required:!0}),""!==U.ancUnique?Object(se.jsx)("span",{className:X.error,children:U.ancUnique}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date enrolled in PrEP *"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateEnrolled",id:"dateEnrolled",value:re.dateEnrolled,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateEnrolled?Object(se.jsx)("span",{className:X.error,children:U.dateEnrolled}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"entryPointId",children:"PrEP Risk Type*"}),Object(se.jsxs)(Ue.a,{type:"select",name:"prepRiskType",id:"prepRiskType",onChange:Ot,value:re.prepRiskType,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),ie.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==U.prepRiskType?Object(se.jsx)("span",{className:X.error,children:U.prepRiskType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"HIV Testing Point "}),Object(se.jsxs)(Ue.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:Ot,value:re.hivTestingPoint,required:!0,children:[Object(se.jsx)("option",{value:"Select",children:" "}),le.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==U.hivTestingPoint?Object(se.jsx)("span",{className:X.error,children:U.hivTestingPoint}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date of last HIV Negative test*"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:re.dateOfLastHivNegativeTest,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateOfLastHivNegativeTest?Object(se.jsx)("span",{className:X.error,children:U.dateOfLastHivNegativeTest}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Referred for PrEP * "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateReferredForPrep",id:"dateReferredForPrep",value:re.dateReferredForPrep,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.dateReferredForPrep?Object(se.jsx)("span",{className:X.error,children:U.dateReferredForPrep}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"PrEP Supporter "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"prepSupporter",id:"prepSupporter",value:re.prepSupporter,onChange:Ot,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==U.prepSupporter?Object(se.jsx)("span",{className:X.error,children:U.prepSupporter}):""]})})]})})]}),b?Object(se.jsx)(We.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:X.button,startIcon:Object(se.jsx)(Ve.a,{}),disabled:p,onClick:async e=>{e.preventDefault();const a=C.find((e=>e.display===t.sexId));t.sexId=a&&a.id?a.id:"";let r=[];j&&j.length>0&&j.map((e=>{const t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};r.push(t)}));if((()=>{let e={...U};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Sex is required.",e.dateOfRegistration1=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.uniqueClientId=re.uniqueClientId?"":"Unique ID is required.",e.dateEnrolled=re.dateEnrolled?"":"Date enrolled is required.",e.dateOfLastHivNegativeTest=re.dateOfLastHivNegativeTest?"":"date of last HIV test is required.",e.dateReferredForPrep=re.dateReferredForPrep?"":"Date referred is required.",e.hivTestingPoint=re.hivTestingPoint?"":"Hiv test point is required.",e.prepRiskType=re.prepRiskType?"":"PrEp risk type is required.",e.prepSupporter=re.prepSupporter?"":"PrEp supporter is required.",Y({...e}),Object.values(e).every((e=>""==e))})())try{const e={id:"",active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:r,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.sexId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},a={type:"phone",value:t.phoneNumber};if(t.email){const a={type:"email",value:t.email};e.contactPoint.push(a)}if(t.altPhonenumber){const a={type:"altphone",value:t.altPhonenumber};e.contactPoint.push(a)}e.contactPoint.push(a),e.id=Ee,re.personId=Ee;await u.a.post("".concat(g,"prep"),re,{headers:{Authorization:"Bearer ".concat(O)}});o.b.success(" Register save successful"),Q.push("/")}catch(s){let e=s.response.data&&""!==s.response.data.apierror.message?s.response.data.apierror.message:"An error occured while registering a patient !";o.b.error(e,{position:o.b.POSITION.TOP_RIGHT})}},children:b?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(Z.a,{variant:"contained",className:X.button,startIcon:Object(se.jsx)(Ke.a,{}),onClick:()=>{Q.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(se.jsxs)(ke.a,{show:Pe,toggle:Ae,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(ke.a.Header,{children:Object(se.jsx)(ke.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(ke.a.Body,{children:Object(se.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(se.jsx)(ke.a.Footer,{children:Object(se.jsx)(Z.a,{onClick:Ae,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};et.b.add(Ie.a,Ie.c,Ie.d,Ie.e);const ot=Object(ze.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var dt=e=>{console.log(e);const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[s,c]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[i,d]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[l,j]=Object(r.useState)([]),[m,b]=Object(r.useState)(!1),[h,p]=Object(r.useState)(!0),[x,N]=Object(r.useState)(!1),[v,y]=Object(r.useState)(null),[S,I]=Object(r.useState)([]),[R,C]=Object(r.useState)([]),[w,D]=Object(r.useState)([]),[P,T]=Object(r.useState)([]),[A,k]=Object(r.useState)([]),[B,E]=Object(r.useState)([]),[z,q]=Object(r.useState)([]),[_,F]=Object(r.useState)([]),[L,H]=Object(r.useState)({}),[M,U]=Object(r.useState)([]),[Y,V]=Object(r.useState)({person:"",hivEnrollment:""}),W=(e.location&&e.location.state&&e.location.state.user,ot()),G=Object(n.g)(),K=Object(n.h)(),[J,X]=Object(r.useState)(!1),[Q,$]=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),[te,ae]=Object(r.useState)([]),[re,ce]=Object(r.useState)([]),[ie,ne]=Object(r.useState)([]),[oe,de]=Object(r.useState)([]),[le,je]=Object(r.useState)([]),[me,be]=Object(r.useState)([]),[ue,pe]=Object(r.useState)([]),[xe,Oe]=Object(r.useState)(!1),[ge,fe]=Object(r.useState)(!1),[Ne,ve]=Object(r.useState)("false"),ye=K.state;let Ie=null,Re={};Ie=ye?ye.patientId:null,Re=ye?ye.patientObj:{};const[Ce,we]=Object(r.useState)(!1),[De,Pe]=Object(r.useState)(!1);Object(r.useEffect)((()=>{if(Te(),Ae(),ke(),Be(),Ee(),ze(),et(),at(),st(),ct(),it(),nt(),dt(),qe(),Re){const a=Re.contact?Re.contact:[];let r=[];a.contact&&a.contact.length>0&&a.contact.map((e=>{const t={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};r.push(t)}));j(r);const s=Re.identifier,c=Re.address,i=Re.contactPoint,n=s.identifier.find((e=>"HospitalNumber"==e.type)),o=i.contactPoint.find((e=>"phone"==e.type)),d=i.contactPoint.find((e=>"email"==e.type)),l=i.contactPoint.find((e=>"altphone"==e.type)),m=c&&c.address&&c.address.length>0?c.address[0]:null;t.dob=Re.dateOfBirth,t.firstName=Re.firstName,t.dateOfRegistration=Re.dateOfRegistration,t.middleName=Re.otherName,t.lastName=Re.surname,t.hospitalNumber=n?n.value:"",t.maritalStatusId=Re.maritalStatus.id,t.employmentStatusId=Re.employmentStatus.id,t.genderId=Re.gender?Re.gender.id:null,t.sexId=Re.sex,t.educationId=Re.education.id,t.phoneNumber=o&&o.value?o.value:"",t.altPhonenumber=l&&l.value?l.value:"",t.email=d&&d.value?d.value:"",t.address=m&&m.city?m.city:"",t.landmark=m.line[0],t.countryId=m.countryId,Fe(m.countryId),e=m.stateId,u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{F(e.data)})).catch((e=>{})),t.stateId=m.stateId,t.district=m.district,$(Re.enrollment);const b=_e(ee(Re.dateOfBirth).format("DD-MM-YYYY"));t.age=b,X("Female"===Re.sex),t.ninNumber=Re.ninNumber}var e;t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[Re,Ie,t.dateOfRegistration]);const Te=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}});I(e.data)}catch(e){}}),[]),Ae=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}});C(e.data)}catch(e){}}),[]),ke=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(O)}});D(e.data)}catch(e){}}),[]),Be=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(O)}});T(e.data)}catch(e){}}),[]),Ee=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}});k(e.data)}catch(e){}}),[]),ze=Object(r.useCallback)((async()=>{const e=await u.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}});U(e.data)}),[]),qe=()=>{u.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{E(e.data)})).catch((e=>{}))},_e=e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&c--,0===c?i+" month(s)":c};function Fe(e){u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{q(e.data)})).catch((e=>{}))}const Le=e=>{"Actual"==e.target.value?p(!0):"Estimated"==e.target.value&&p(!1)},Ye=e=>{if(a({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"Female"===e.target.value&&X(!0),"firstName"===e.target.name&&""!==e.target.value){const r=Qe(e.target.value);a({...t,[e.target.name]:r})}if("lastName"===e.target.name&&""!==e.target.value){const s=Qe(e.target.value);a({...t,[e.target.name]:s})}if("middleName"===e.target.name&&""!==e.target.value){const c=Qe(e.target.value);a({...t,[e.target.name]:c})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function i(){const t=e.target.value;!0!==(await u.a.post("".concat(g,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(O),"Content-Type":"text/plain"}})).data?(we(!1),$({...Q,uniqueId:e.target.value}),Pe(!0)):(we(!1),Pe(!0))}i()}},Ge=e=>{const t=A.find((t=>t.id==e));return t?t.display:""},Xe=e=>{c({...s,[e.target.name]:e.target.value})},Qe=e=>e.replace(/[^a-z]/gi,""),et=()=>{u.a.get("".concat(g,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ae(e.data)})).catch((e=>{}))},at=()=>{u.a.get("".concat(g,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ce(e.data)})).catch((e=>{}))},st=()=>{u.a.get("".concat(g,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ne(e.data)})).catch((e=>{}))},ct=()=>{u.a.get("".concat(g,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{de(e.data)})).catch((e=>{}))},it=()=>{u.a.get("".concat(g,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{je(e.data)})).catch((e=>{}))},nt=()=>{u.a.get("".concat(g,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{be(e.data)})).catch((e=>{}))},dt=()=>{u.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{pe(e.data)})).catch((e=>{}))},lt=e=>{$({...Q,[e.target.name]:e.target.value}),"entryPointId"===e.target.name&&("21"===e.target.value?Oe(!0):Oe(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?Oe(!0):Oe(!1))},jt=(e,r)=>{a({...t,[r]:e.slice(0,10)})},mt=e=>{e.target.checked?fe(!0):fe(!1)};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)(Je.a,{className:W.cardBottom,children:Object(se.jsxs)(tt.a,{children:[Object(se.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:Re}},children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(se.jsx)(he.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(Ue.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",value:t.dateOfRegistration,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfRegistration1?Object(se.jsx)("span",{className:W.error,children:L.dateOfRegistration1}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:"update"!==ye.actionType}),""!==L.hospitalNumber?Object(se.jsx)("span",{className:W.error,children:L.hospitalNumber}):"",""!==L.hospitalNumber?Object(se.jsx)("span",{className:W.error,children:L.hospitalNumber}):"",!0===Ce?Object(se.jsx)("span",{className:W.error,children:"Hospital number already exist"}):"",!0===De?Object(se.jsx)("span",{className:W.success,children:"Hospital number is OK."}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:Math.floor(1094328*Math.random()),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.firstName?Object(se.jsx)("span",{className:W.error,children:L.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Middle Name"}),Object(se.jsx)(Ue.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.lastName?Object(se.jsx)("span",{className:W.error,children:L.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Ye,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),S.map(((e,t)=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==L.sexId?Object(se.jsx)("span",{className:W.error,children:L.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Le(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Le(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date"}),Object(se.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:i,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();(c<0||0===c&&a.getDate()<r.getDate())&&s--,t.age=s}else a({...t,age:""});a({...t,dob:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Age"}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:t.age,disabled:h,onChange:e=>{if(!h&&e.target.value){const a=new Date;a.setDate(15),a.setMonth(5);const r=ee(a.toISOString()).add(-1*e.target.value,"years");t.dob=ee(r).format("YYYY-MM-DD")}a({...t,age:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Ye,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),R.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Ye,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),P.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.employmentStatusId?Object(se.jsx)("span",{className:W.error,children:L.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Ye,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),w.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.educationId?Object(se.jsx)("span",{className:W.error,children:L.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"patientId",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"nin",id:"nin",value:t.ninNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Phone Number *"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:e=>{jt(e,"phoneNumber")}}),""!==L.phoneNumber?Object(se.jsx)("span",{className:W.error,children:L.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Alt. Phone Number"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,onChange:e=>{jt(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Ye,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;Fe(r),a({...t,countryId:r})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),B.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.countryId?Object(se.jsx)("span",{className:W.error,children:L.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;a({...t,stateId:e.target.value}),u.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{F(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),z.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.stateId?Object(se.jsx)("span",{className:W.error,children:L.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ye,children:[Object(se.jsx)("option",{value:"",children:"Select"}),_.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.district?Object(se.jsx)("span",{className:W.error,children:L.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:t.address,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.address?Object(se.jsx)("span",{className:W.error,children:L.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:t.landmark,onChange:Ye,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[l&&l.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:l.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:Ge(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{c(e),N(!0),l.splice(t,1)})(e,t),children:Object(se.jsx)(Se.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{l.splice(e,1),j([...l])})(t),children:Object(se.jsx)(Se.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:x&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:s.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Xe,children:[Object(se.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.relationshipId?Object(se.jsx)("span",{className:W.error,children:L.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:s.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Xe}),""!==L.firstName?Object(se.jsx)("span",{className:W.error,children:L.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:s.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Xe})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:s.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Xe}),""!==L.lastName?Object(se.jsx)("span",{className:W.error,children:L.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(Ze.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:s.phone,id:"phone",onChange:e=>{((e,t)=>{c({...s,[t]:e.slice(0,10)})})(e.slice(0,10),"phone")}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:s.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Xe})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:s.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Xe})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:W.button,onClick:e=>{(()=>{let e={...L};return e.firstName=s.firstName?"":"First Name is required",e.lastName=s.lastName?"":"Last Name  is required.",e.relationshipId=s.relationshipId?"":"Relationship Type is required.",H({...e}),Object.values(e).every((e=>""==e))})()&&j([...l,s])},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:W.button,onClick:()=>{N(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:W.button,startIcon:Object(se.jsx)(rt.a,{}),onClick:()=>{N(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"uniqueId",children:"Unique ID No  * "}),Object(se.jsx)(Ue.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:lt,value:Q.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==L.uniqueId?Object(se.jsx)("span",{className:W.error,children:L.uniqueId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"dateOfRegistration",children:"Date of Enrollment * "}),Object(se.jsx)(Ue.a,{type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:t.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD"),onChange:lt,value:Q.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfRegistration?Object(se.jsx)("span",{className:W.error,children:L.dateOfRegistration}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(se.jsxs)(Ue.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:lt,value:Q.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" "}),te.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.entryPointId?Object(se.jsx)("span",{className:W.error,children:L.entryPointId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:!0===xe?Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Facility Name"}),Object(se.jsx)(Ue.a,{type:"text",name:"facilityName",id:"facilityName",onChange:lt,value:Q.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"HIV Status at Registration *"}),Object(se.jsxs)(Ue.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:lt,value:Q.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),ie.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.statusAtRegistrationId?Object(se.jsx)("span",{className:W.error,children:L.statusAtRegistrationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date of Confirmed HIV Test *"}),Object(se.jsx)(Ue.a,{type:"date",name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:t.dob,max:Q.dateOfRegistration,onChange:lt,value:Q.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateConfirmedHiv?Object(se.jsx)("span",{className:W.error,children:L.dateConfirmedHiv}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Source of Referral *"}),Object(se.jsxs)(Ue.a,{type:"select",name:"sourceOfReferrerId",id:"sourceOfReferrerId",value:Q.sourceOfReferrerId,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select "}),re.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.sourceOfReferrerId?Object(se.jsx)("span",{className:W.error,children:L.sourceOfReferrerId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Enrollment Setting *"}),Object(se.jsxs)(Ue.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:Q.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:lt,children:[Object(se.jsx)("option",{value:"",children:" Select"}),oe.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.enrollmentSettingId?Object(se.jsx)("span",{className:W.error,children:L.enrollmentSettingId}):""]})}),J&&t.age>9&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:" Pregnancy "}),Object(se.jsxs)(Ue.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:Q.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:lt,children:[Object(se.jsx)("option",{value:"",children:"Select "}),ue.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),"72"!==Q.pregnancyStatusId&&Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date of LMP "}),Object(se.jsx)(Ue.a,{type:"date",name:"dateOfLpm",id:"dateOfLpm",max:i,onChange:lt,value:Q.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})})]}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"TB Status * "}),Object(se.jsxs)(Ue.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:Q.tbStatusId,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),le.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.tbStatusId?Object(se.jsx)("span",{className:W.error,children:L.tbStatusId}):""]})}),"false"===Ne?Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Target Group *"}),Object(se.jsxs)(Ue.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:Q.targetGroupId,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),me.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.targetGroupId?Object(se.jsx)("span",{className:W.error,children:L.targetGroupId}):""]})}):"",Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:mt}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),t.age<=14&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:mt}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===ge&&Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Household Unique Number"}),Object(se.jsx)(Ue.a,{type:"text",name:"householdNumber",id:"householdNumber",required:ge,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Q.householdNumber})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Referred To OVC Partner"}),Object(se.jsx)(Ue.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:ge,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Q.referredToOVCPartner})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Referred To OVC Partner"}),Object(se.jsx)(Ue.a,{type:"date",name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:t.dob,max:Q.dateOfRegistration,onChange:lt,value:Q.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Referred From OVC Partner"}),Object(se.jsx)(Ue.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:ge,onChange:lt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Q.referredFromOVCPartner})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(He.a,{children:[Object(se.jsx)(Me.a,{children:"Date Referred From OVC Partner"}),Object(se.jsx)(Ue.a,{type:"date",name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:t.dob,max:Q.dateOfRegistration,onChange:lt,value:Q.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),m?Object(se.jsx)(We.a,{}):"",Object(se.jsx)("br",{}),"update"===ye.actionType?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:W.button,startIcon:Object(se.jsx)(Ve.a,{}),onClick:async e=>{e.preventDefault();const a=S.find((e=>e.display===t.sexId));if(t.sexId=a.id,(()=>{let e={...L};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Sex is required.",e.dateOfRegistration1=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.targetGroupId=Q.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=Q.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrerId=Q.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=Q.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=Q.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=Q.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=Q.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=Q.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=Q.uniqueId?"":"Unique ID is required.",H({...e}),Object.values(e).every((e=>""==e))})()){let e=[];l&&l.length>0&&l.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));try{const a={active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:e,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.genderId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},r={type:"phone",value:t.phoneNumber};if(t.email){const e={type:"email",value:t.email};a.contactPoint.push(e)}if(t.altPhonenumber){const e={type:"altphone",value:t.altPhonenumber};a.contactPoint.push(e)}a.contactPoint.push(r),a.id=Ie,Y.person=a,Y.hivEnrollment=Q;await u.a.put("".concat(g,"hiv/patient/").concat(Re.id),Y,{headers:{Authorization:"Bearer ".concat(O)}});o.b.success("Patient Updated successful"),G.push("/")}catch(r){if(r.response&&r.response.data){let e=r.response.data&&""!==r.response.data.apierror.message?r.response.data.apierror.message:"Something went wrong, please try again";o.b.error(e)}}}},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:m?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(se.jsx)(Z.a,{variant:"contained",className:W.button,startIcon:Object(se.jsx)(Ke.a,{}),onClick:()=>{G.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]}):""]})})]})})]})};function lt(){return Object(se.jsx)(fe,{children:Object(se.jsx)(n.a,{children:Object(se.jsxs)("div",{children:[Object(se.jsx)(o.a,{}),Object(se.jsxs)(n.d,{children:[Object(se.jsx)(n.b,{path:"/patient-history",children:Object(se.jsx)(Qe,{})}),Object(se.jsx)(n.b,{path:"/register-patient",children:Object(se.jsx)(ct,{})}),Object(se.jsx)(n.b,{path:"/enroll-patient",children:Object(se.jsx)(nt,{})}),Object(se.jsx)(n.b,{path:"/update-patient",children:Object(se.jsx)(dt,{})}),Object(se.jsx)(n.b,{path:"/",children:Object(se.jsx)(oe,{})})]})]})})})}var jt=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,1162)).then((t=>{let{getCLS:a,getFID:r,getFCP:s,getLCP:c,getTTFB:i}=t;a(e),r(e),s(e),c(e),i(e)}))},mt=a(675);let bt="ltr";const ht=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:bt},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:bt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:bt},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:bt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:bt},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:bt}],ut=Object(r.createContext)();var pt=e=>{const[t,a]=Object(r.useState)({value:"full",label:"Full"}),[s,c]=Object(r.useState)({value:"fixed",label:"Fixed"}),[i,n]=Object(r.useState)({value:"fixed",label:"Fixed"}),[o,d]=Object(r.useState)({value:"vertical",label:"Vertical"}),[l,j]=Object(r.useState)({value:"ltr",label:"LTR"}),[m,b]=Object(r.useState)("color_1"),[h,u]=Object(r.useState)("color_1"),[p,x]=Object(r.useState)("color_1"),[O,g]=Object(r.useState)("color_1"),[f,N]=Object(r.useState)(!1),[v,y]=Object(r.useState)(!1),[S,I]=Object(r.useState)({value:"light",label:"Light"}),[R,C]=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),w=document.querySelector("body"),[D,P]=Object(r.useState)(0),[T,A]=Object(r.useState)(0),k=e=>{b(e),w.setAttribute("data-primary",e)},B=e=>{u(e),w.setAttribute("data-nav-headerbg",e)},E=e=>{x(e),w.setAttribute("data-headerbg",e)},z=e=>{g(e),w.setAttribute("data-sibebarbg",e)},q=e=>{c(e),w.setAttribute("data-sidebar-position",e.value)},_=e=>{j(e),w.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},F=e=>{"horizontal"===e.value&&"overlay"===t.value?(d(e),w.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),w.setAttribute("data-sidebar-style","full")):(d(e),w.setAttribute("data-layout",e.value))},L=e=>{"horizontal"===o.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),N("icon-hover"===e.value?"_i-hover":""),w.setAttribute("data-sidebar-style",e.value))},H=e=>{n(e),w.setAttribute("data-header-position",e.value)},M=e=>{w.setAttribute("data-theme-version",e.value),I(e)},U=e=>{C(e),w.setAttribute("data-container",e.value),"boxed"===e.value&&L({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{P(window.innerWidth),A(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(se.jsx)(ut.Provider,{value:{body:w,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:s,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:m,navigationHader:h,windowWidth:D,windowHeight:T,changePrimaryColor:k,changeNavigationHader:B,changeSideBarStyle:L,sideBarStyle:t,changeSideBarPostion:q,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:H,headerposition:i,changeSideBarLayout:F,sidebarLayout:o,changeDirectionLayout:_,changeContainerPosition:U,direction:l,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:p,chnageHaderColor:E,chnageSidebarColor:z,sidebarColor:O,iconHover:f,menuToggle:v,openMenuToggle:()=>{"overly"===t.value?y(!0):y(!1)},changeBackground:M,background:S,containerPosition_:R,setDemoTheme:(e,t)=>{var a={},r=ht[e];w.setAttribute("data-typography",r.typography),a.value=r.version,M(a),a.value=r.layout,F(a),k(r.primary),B(r.navheaderBg),E(r.headerBg),a.value=r.sidebarStyle,L(a),z(r.sidebarBg),a.value=r.sidebarPosition,q(a),a.value=r.headerPosition,H(a),a.value=r.containerLayout,U(a),a.value=t,_(a)}},children:e.children})};i.a.render(Object(se.jsx)(s.a.StrictMode,{children:Object(se.jsx)(mt.a,{children:Object(se.jsx)(f.a,{basename:"/",children:Object(se.jsx)(pt,{children:Object(se.jsx)(lt,{})})})})}),document.getElementById("root")),jt()}},[[946,1,2]]]);
//# sourceMappingURL=main.c4661999.chunk.js.map