(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{489:function(e,t,a){},706:function(e,t,a){},707:function(e,t,a){},942:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),c=a(20),i=a.n(c),n=a(50),o=a(10),l=(a(119),a(706),a(707),a(708),a(1010)),d=a(1011),j=a(1047),b=a(1033),h=a(1012),m=a(9),p=a.n(m),u=a(122),x=a.n(u);const O=new URLSearchParams(window.location.search).get("jwt"),g="/api/v1/";a(232);var f=a(46),v=a(171),N=a.n(v),y=a(181),S=a.n(y),C=a(172),I=a.n(C),R=a(179),T=a.n(R),D=a(116),P=a.n(D),w=a(115),A=a.n(w),E=a(173),k=a.n(E),B=a(174),Y=a.n(B),z=a(176),q=a.n(z),H=a(177),_=a.n(H),M=a(178),F=a.n(M),L=a(182),W=a.n(L),U=a(175),V=a.n(U),G=a(180),K=a.n(G),X=a(183),J=a.n(X),Z=(a(62),a(501)),Q=a(1004),$=a(394),ee=(a(352),a(26)),te=a.n(ee),ae=a(250),re=a.n(ae),se=a(2);te.a.locale("en"),re()();const ce={Add:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(I.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(k.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(Y.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(V.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(q.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(F.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(T.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(W.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(J.a,{...e,ref:t})))};var ie=e=>{const[t,a]=Object(r.useState)([]),[s,c]=Object(r.useState)(!0),[i,n]=Object(r.useState)(!0);Object(r.useEffect)((()=>{!async function(){c(!0),p.a.get("".concat(g,"mhpss/persons"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{c(!1),a(e.data)})).catch((e=>{c(!1)}))}()}),[]);const o=e=>{e.target.checked?n(!1):n(!0)};return Object(se.jsx)("div",{children:Object(se.jsx)(x.a,{icons:ce,title:"Find Patient ",columns:[{title:"Patient Name",field:"name",hidden:i},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((t,a)=>p.a.get("".concat(g,"mhpss/persons?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>e)).then((a=>{t({data:a.data.records.map((e=>({name:e.firstName+" "+e.surname,hospital_number:e.hospitalNumber,gender:e&&e.gender?e.gender:"",age:e.age,actions:Object(se.jsx)("div",{children:Object(se.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(se.jsxs)(Q.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(se.jsx)(Z.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(se.jsx)($.a,{})}),Object(se.jsx)(Z.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(se.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}))),page:e.page,totalCount:a.data.totalRecords})})))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(se.jsxs)("div",{children:[Object(se.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==i,onChange:o,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(se.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(se.jsx)(u.MTableToolbar,{...e})]})}})})},ne=a(430);te.a.locale("en"),re()();const oe={borderRadius:"2px",fontSize:14};var le=()=>{const[e,t]=Object(r.useState)("home");return Object(se.jsxs)(r.Fragment,{children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsx)("h4",{children:"MHPSS"})})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(l.a,{children:Object(se.jsx)(d.a,{xl:12,children:Object(se.jsx)(j.a,{style:oe,children:Object(se.jsx)(j.a.Body,{children:Object(se.jsx)("div",{className:"custom-tab-1",children:Object(se.jsx)(b.a,{id:"controlled-tab-example",activeKey:e,onSelect:e=>t(e),className:"mb-3",children:Object(se.jsx)(h.a,{eventKey:"home",title:"Find Patients",children:Object(se.jsx)(ie,{})})})})})})})})]})},de=a(7),je=a(1038),be=a(1048),he=(a(12),a(1008)),me=a(1009),pe=a(192),ue=a(1007),xe=a(1013),Oe=a(1014),ge=a(155);te.a.locale("en"),re()();var fe=Object(de.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){const{classes:t}=e,[a,s]=Object(r.useState)(e.patientDetail);return Object(r.useEffect)((()=>{s(e.patientDetail)}),[e.patientDetail]),Object(se.jsx)("div",{className:t.root,children:Object(se.jsxs)(he.a,{children:[Object(se.jsx)(me.a,{children:Object(se.jsx)(xe.a,{children:Object(se.jsx)(Oe.a,{md:12,children:a&&null!==a?Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(xe.a,{className:"mt-1",children:[Object(se.jsxs)(Oe.a,{md:12,className:t.root2,children:[Object(se.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:a.personResponseDto.firstName+" "+a.personResponseDto.surname}),Object(se.jsx)(f.b,{to:"/",children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(se.jsx)(pe.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(se.jsx)(Oe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Patient ID : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{const t=e.identifier.find((e=>"HospitalNumber"===e.type));return t?t.value:""})(a.personResponseDto.identifier)})]})}),Object(se.jsx)(Oe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:["Date Of Birth : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:a.personResponseDto.dateOfBirth})]})}),Object(se.jsx)(Oe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Age : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&c--,0===c?i+" month(s)":c+" year(s)"})(te()(a.personResponseDto.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(se.jsx)(Oe.a,{md:4,children:Object(se.jsxs)("span",{children:[" ","Gender :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:a.personResponseDto&&null!==a.personResponseDto.sex?a.personResponseDto.sex:""})]})}),Object(se.jsx)(Oe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Phone Number : ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{const t=e.contactPoint.find((e=>"phone"===e.type));return t?t.value:""})(a.personResponseDto.contactPoint)})]})}),Object(se.jsx)(Oe.a,{md:4,className:t.root2,children:Object(se.jsxs)("span",{children:[" ","Address : ",Object(se.jsxs)("b",{style:{color:"#0B72AA"},children:[(e=>{const t=e.address.find((e=>e.city)),a=t&&null!==t.line[0]?t.line[0]:"",r=t&&t.city&&null!==t.city?t.city:"";return t?a+" "+r:""})(a.personResponseDto.address)," "]})]})}),null!==a.prepStatus&&Object(se.jsx)(Oe.a,{md:12,children:Object(se.jsx)("div",{children:Object(se.jsx)(ge.a,{variant:"caption",children:Object(se.jsxs)(ne.a,{color:"teal",size:"mini",children:["STATUS : ",a&&a.prepStatus]})})})})]})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("p",{children:"Loading please wait.."})})})})}),Object(se.jsx)(ue.a,{})]})})})),ve=a(1032);var Ne=function(e){const t=e.patientObj;Object(r.useEffect)((()=>{}),[e.patientObj]);const a=t=>{e.setActiveContent({...e.activeContent,route:"prep-interruptions"})},s=t=>{e.setActiveContent({...e.activeContent,route:"prep-registration"})},c=t=>{e.setActiveContent({...e.activeContent,route:"prep-commencement"})},i=t=>{e.setActiveContent({...e.activeContent,route:"prep-screening"})},n=t=>{e.setActiveContent({...e.activeContent,route:"consultation"})},o=t=>{e.setActiveContent({...e.activeContent,route:"recent-history"})},l=()=>{e.setActiveContent({...e.activeContent,route:"patient-history"})};return Object(se.jsx)("div",{children:Object(se.jsx)(ve.a,{size:"large",color:"black",inverted:!0,children:"ETL"!==t.createdBy?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ve.a.Item,{onClick:()=>o(),children:"Home"}),t.eligibilityCount<=0||null===t.eligibilityCount?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(ve.a.Item,{onClick:()=>i(),children:"PrEP Eligibility Screening"})}):Object(se.jsx)(se.Fragment,{children:"0"===t.prepCount||null===t.commencementCount?Object(se.jsxs)(se.Fragment,{children:["0"===t.prepCount&&"Negative"===t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),(null===t.commencementCount||t.commencementCount<=0)&&"Negative"===t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>c(),children:"PrEP Commencement"})]}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ve.a.Item,{onClick:()=>i(),children:" PrEP Eligibility Screening "}),(null===t.prepCount||t.prepCount<0)&&"Negative"===t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),(null===t.commencementCount||t.commencementCount<=0)&&"Negative"===t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>c(),children:"PrEP Commencement"}),"Negative"===t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>n(),children:" PrEP Visit"}),"Negative"===t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>a(),children:"PrEP Discontinuations & Interruptions"})]})}),Object(se.jsx)(ve.a.Item,{onClick:()=>l(),children:"History"})]}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ve.a.Item,{onClick:()=>o(),children:"Home"}),"Negative"===t.hivresultAtVisit&&null!==t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>i(),children:"PrEP Eligibility Screening"}),"Negative"===t.hivresultAtVisit&&null!==t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),"Negative"===t.hivresultAtVisit&&null!==t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>c(),children:"PrEP Commencement"}),"Negative"===t.hivresultAtVisit&&null!==t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>n(),children:" PrEP Visit"}),"Negative"===t.hivresultAtVisit&&null!==t.hivresultAtVisit&&Object(se.jsx)(ve.a.Item,{onClick:()=>a(),children:"PrEP Discontinuations & Interruptions"}),Object(se.jsx)(ve.a.Item,{onClick:()=>l(),children:"History"})]})})})},ye=a(1029),Se=a(502),Ce=a.n(Se),Ie=a(1037),Re=a(1031),Te=a(1041);var De=e=>{const[t,a]=Object(r.useState)([]),[c,i]=Object(r.useState)(null),[n,l]=Object(r.useState)(!1),[d,b]=s.a.useState(!1),[h,m]=Object(r.useState)(null),u=()=>b(!d),[x,f]=Object(r.useState)(0);Object(r.useEffect)((()=>{N(),v()}),[e.patientObj.personId]);const v=()=>{p.a.get("".concat(g,"prep/activities/patients/").concat(e.patientObj.personId,"?full=true"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{a(e.data)})).catch((e=>{}))},N=()=>{p.a.get("".concat(g,"prep-clinic/person/").concat(e.patientObj.personId,"?full=true"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{i(e.data[0])})).catch((e=>{}))},y=(t,a)=>{"prep-eligibility"===t.path?e.setActiveContent({...e.activeContent,route:"prep-screening",id:t.id,actionType:a}):"prep-enrollment"===t.path?e.setActiveContent({...e.activeContent,route:"prep-registration",id:t.id,actionType:a}):"prep-clinic"===t.path?e.setActiveContent({...e.activeContent,route:"consultation",id:t.id,actionType:a}):"prep-commencement"===t.path&&e.setActiveContent({...e.activeContent,route:"prep-commencement",id:t.id,actionType:a})};return Object(se.jsxs)(r.Fragment,{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(se.jsx)("h4",{className:"card-title",children:" Recent Activities"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsx)(Ce.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(se.jsx)(Ie.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(se.jsx)(se.Fragment,{children:t.map(((e,t)=>Object(se.jsxs)("div",{className:"accordion-item",children:[Object(se.jsxs)(Ie.a.Toggle,{as:j.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===x?"":"collapsed"," accordion-header-info"),onClick:()=>f(1===x?-1:t),children:[Object(se.jsx)("span",{className:"accordion-header-icon"}),Object(se.jsxs)("span",{className:"accordion-header-text",children:["Encounter Date : ",Object(se.jsx)("span",{className:"",children:e.date})," "]}),Object(se.jsx)("span",{className:"accordion-header-indicator"})]}),Object(se.jsx)(Ie.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(se.jsx)("div",{className:"accordion-body-text",children:Object(se.jsx)("ul",{className:"timeline",children:e.activities&&e.activities.map(((a,r)=>{return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("li",{children:Object(se.jsxs)("div",{className:"timeline-panel",children:[Object(se.jsx)("div",{className:t%2==0?"media me-2 media-info":"media me-2 media-success",children:(s=e.name,"HIV Enrollment"===s?"HE":"Prep Clinic"===s?"PC":"Prep Enrollment"===s||"Prep Eligibility"===s?"PE":"ART Commencement"===s?"AC":"RA")}),Object(se.jsxs)("div",{className:"media-body",children:[Object(se.jsx)("h5",{className:"mb-1",children:a.name}),Object(se.jsx)("small",{className:"d-block",children:a.date})]}),Object(se.jsxs)(ye.a,{className:"dropdown",children:[Object(se.jsx)(ye.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(se.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(se.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(se.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(se.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(se.jsxs)(ye.a.Menu,{className:"dropdown-menu",children:[Object(se.jsx)(ye.a.Item,{className:"dropdown-item",onClick:()=>y(a,"view"),children:"View"}),Object(se.jsx)(ye.a.Item,{className:"dropdown-item",onClick:()=>y(a,"update"),children:"Update"}),Object(se.jsx)(ye.a.Item,{className:"dropdown-item",to:"/widget-basic",onClick:()=>{return e=a,u(),void m(e);var e},children:"Delete"})]})]})]})})});var s}))})})})]},t)))})})})})]})}),Object(se.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header border-0  pb-2",style:{backgroundColor:"#EEEEEE"},children:Object(se.jsx)("h4",{className:"card-title",children:"Summary "})}),Object(se.jsx)("div",{className:"row",children:c&&null!==c&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:Object(se.jsxs)("div",{className:"card overflow-hidden",children:[Object(se.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(se.jsx)("span",{className:"s-icon",children:Object(se.jsxs)("span",{style:{fontSize:"16px"},children:["Total Clinic Visit : ",c.visitCount]})})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-6 border-right",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsx)("span",{className:"counter",children:Object(se.jsx)("b",{children:c.encounterDate})})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Last Visit "})})]})}),Object(se.jsx)("div",{className:"col-6",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsx)("span",{className:"counter",children:Object(se.jsx)("b",{children:c.nextAppointment})})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Next Visit"})})]})})]})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12 col-sm-12",children:Object(se.jsx)("div",{className:"widget-stat card",children:Object(se.jsxs)("div",{className:"card-body p-4",style:{backgroundColor:"#fff"},children:[Object(se.jsx)("h4",{className:"card-title",style:{fontSize:"15px"},children:Object(se.jsx)("b",{children:"Current Regimen Given"})}),Object(se.jsx)("h4",{class:"text-info ",children:c.regimen})]})})})]})}),Object(se.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"card overflow-hidden",children:[Object(se.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(se.jsx)("span",{className:"s-icon",children:Object(se.jsxs)("span",{style:{fontSize:"16px"},children:["BMI : ",(c.weight/(c.height/100*(c.height/100))).toFixed(2)," kg/m",Object(se.jsx)("sup",{children:"2"})]})})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-6 border-right",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsxs)("span",{className:"counter",children:[c.weight," Kg"]})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Weight "})})]})}),Object(se.jsx)("div",{className:"col-6",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsxs)("span",{className:"counter",children:[c.height," cm"]})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Height "})})]})})]})]})})})]})})]})})]}),Object(se.jsxs)(Re.a,{show:d,toggle:u,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Re.a.Header,{children:Object(se.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Re.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:h&&h.name})]})}),Object(se.jsxs)(Re.a.Footer,{children:[Object(se.jsx)(Te.a,{onClick:()=>{var e;"prep-eligibility"===(e=h).path?(l(!0),p.a.delete("".concat(g,"prep-eligibility/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),v(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(l(!0),p.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),v(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(l(!0),p.a.delete("".concat(g,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),v(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path&&(l(!0),p.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),v(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:n,children:!1===n?"Yes":"Deleting..."}),Object(se.jsx)(Te.a,{onClick:u,style:{backgroundColor:"#014d88",color:"#fff"},disabled:n,children:"No"})]})]})]})},Pe=a(595),we=a(1030),Ae=a(199);const Ee={Add:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(I.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(k.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(Y.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(V.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(q.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(F.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(T.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(W.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(J.a,{...e,ref:t})))};Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ke=e=>{const[t,a]=Object(r.useState)([]),[c,i]=Object(r.useState)(!0),[n,l]=Object(r.useState)(!1),[d,j]=s.a.useState(!1),[b,h]=Object(r.useState)(null),m=()=>j(!d);Object(r.useEffect)((()=>{u()}),[e.patientObj.id]);const u=()=>{i(!0),p.a.get("".concat(g,"prep/general-activities/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{i(!1),a(e.data)})).catch((e=>{}))},f=(t,a)=>{"prep-eligibility"===t.path?e.setActiveContent({...e.activeContent,route:"prep-screening",id:t.id,actionType:a}):"prep-enrollment"===t.path?e.setActiveContent({...e.activeContent,route:"prep-registration",id:t.id,actionType:a}):"prep-clinic"===t.path?e.setActiveContent({...e.activeContent,route:"consultation",id:t.id,actionType:a}):"prep-commencement"===t.path&&e.setActiveContent({...e.activeContent,route:"prep-commencement",id:t.id,actionType:a})};return Object(se.jsxs)("div",{children:[Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{icons:Ee,title:"Patient History ",columns:[{title:"Name",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:c,data:t&&t.map((e=>({name:e.name,date:e.date,actions:Object(se.jsx)("div",{children:Object(se.jsx)(ve.a.Menu,{position:"right",children:Object(se.jsx)(ve.a.Item,{children:Object(se.jsx)(Te.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(se.jsx)(we.a,{item:!0,text:"Action",children:Object(se.jsxs)(we.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(se.jsxs)(we.a.Item,{onClick:()=>f(e,"view"),children:[" ",Object(se.jsx)(Ae.a,{name:"eye"}),"View  "]}),e.viewable&&Object(se.jsxs)(we.a.Item,{onClick:()=>f(e,"update"),children:[Object(se.jsx)(Ae.a,{name:"edit"}),"Edit"]}),Object(se.jsxs)(we.a.Item,{onClick:()=>(e=>{m(),h(e)})(e),children:[" ",Object(se.jsx)(Ae.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(se.jsxs)(Re.a,{show:d,toggle:m,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Re.a.Header,{children:Object(se.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Re.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:b&&b.name})]})}),Object(se.jsxs)(Re.a.Footer,{children:[Object(se.jsx)(Te.a,{onClick:()=>{var e;"prep-eligibility"===(e=b).path?(l(!0),p.a.delete("".concat(g,"prep-eligibility/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(l(!0),p.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(l(!0),p.a.delete("".concat(g,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path&&(l(!0),p.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:n,children:!1===n?"Yes":"Deleting..."}),Object(se.jsx)(Te.a,{onClick:m,style:{backgroundColor:"#014d88",color:"#fff"},disabled:n,children:"No"})]})]})]})},Be=a(1044),Ye=a(1045),ze=a(1015),qe=a(1016),He=a(1017),_e=a(1018),Me=a(1019),Fe=a(47),Le=a.n(Fe);const We=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ue=e=>{const[t,a]=Object(r.useState)({}),[s,c]=Object(r.useState)(!1),[i,n]=Object(r.useState)();let l={...t};const d=We(),[j,b]=Object(r.useState)(!1),[h,m]=Object(r.useState)([]),[u,x]=Object(r.useState)([]),[f,v]=Object(r.useState)([]),[N,y]=Object(r.useState)([]),[S,C]=Object(r.useState)([]),[I,R]=Object(r.useState)([]),[T,D]=Object(r.useState)([]),[P,w]=Object(r.useState)({weight:"",diastolic:"",height:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""}),[A,E]=Object(r.useState)({adherenceLevel:"",dateInitialAdherenceCounseling:"",datePrepGiven:"",datePrepStart:"",dateReferre:"",diastolic:"",encounterDate:"",extra:{},height:"",hepatitis:{},nextAppointment:"",notedSideEffects:"",otherTestsDone:{},personId:e.patientObj.personId,pregnant:"",prepEnrollmentUuid:"",pulse:"",referred:"",regimenId:"",respiratoryRate:"",riskReductionServices:"",stiScreening:"",syndromicStiScreening:null,syphilis:{},systolic:"",temperature:"",urinalysis:{},urinalysisResult:"",weight:"",why:"",otherDrugs:"",duration:"",prepGiven:""}),[k,B]=Object(r.useState)({urinalysisTest:"Yes",testDate:"",result:""}),[Y,z]=Object(r.useState)({syphilisTest:"Yes",testDate:"",result:""}),[q,H]=Object(r.useState)({hepatitisTest:"Yes",testDate:"",result:""}),[_,M]=Object(r.useState)({otherTest:"Yes",testDate:"",result:"",name:""});Object(r.useEffect)((()=>{!async function(){p.a.get("".concat(g,"application-codesets/v2/PrEP_LEVEL_OF_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{m(e.data)})).catch((e=>{}))}(),J(),V(),K(),G(),L(),X(),W(),U(),e.activeContent&&""!==e.activeContent.id&&null!==e.activeContent.id&&(F(e.activeContent.id),c("view"===e.activeContent.actionType))}),[e.activeContent]),console.log(e.activeContent);const F=t=>{p.a.get("".concat(g,"prep-clinic/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{E(e.data)})).catch((e=>{}))},L=()=>{p.a.get("".concat(g,"prep/enrollment/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{n(e.data)})).catch((e=>{}))},W=()=>{p.a.get("".concat(g,"prep/eligibility/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{A.prepEnrollmentUuid=""})).catch((e=>{}))},U=()=>{p.a.get("".concat(g,"prep-regimen"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{R(e.data)})).catch((e=>{}))},V=()=>{p.a.get("".concat(g,"application-codesets/v2/PREP_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{v(e.data)})).catch((e=>{}))},G=()=>{p.a.get("".concat(g,"application-codesets/v2/PREP_SIDE_EFFECTS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{y(e.data)})).catch((e=>{}))},K=()=>{p.a.get("".concat(g,"application-codesets/v2/HTS_RESULT"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{C(e.data)})).catch((e=>{}))},X=()=>{p.a.get("".concat(g,"application-codesets/v2/WHY_POOR_FAIR_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{D(e.data)})).catch((e=>{}))},J=()=>{p.a.get("".concat(g,"application-codesets/v2/SYNDROMIC_STI_SCREENING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{x(e.data)})).catch((e=>{}))};const Q=e=>{a({...t,[e.target.name]:""}),E({...A,[e.target.name]:e.target.value})},$=e=>{a({...t,[e.target.name]:""}),B({...k,[e.target.name]:e.target.value})},ee=e=>{M({..._,[e.target.name]:e.target.value})},ae=e=>{a({...t,[e.target.name]:""}),H({...q,[e.target.name]:e.target.value})},re=e=>{a({...t,[e.target.name]:""}),z({...Y,[e.target.name]:e.target.value})},ce=t=>{t.preventDefault(),l.encounterDate=A.encounterDate?"":"This field is required",l.nextAppointment=A.nextAppointment?"":"This field is required",l.adherenceLevel=A.adherenceLevel?"":"This field is required",l.height=A.height?"":"This field is required",l.weight=A.weight?"":"This field is required",l.urinalysisTest=k.urinalysisTest?"":"This field is required",l.testDate=k.testDate?"":"This field is required",l.result=k.result?"":"This field is required",l.regimenId=A.regimenId?"":"This field is required",l.duration=A.duration?"":"This field is required",a({...l}),Object.values(l).every((e=>""==e))&&(b(!0),A.syphilis=Y,A.hepatitis=q,A.urinalysis=k,A.otherTestsDone=_,A.prepEnrollmentUuid=i.uuid,e.activeContent&&"update"===e.activeContent.actionType?p.a.put("".concat(g,"prep-clinic/").concat(e.activeContent.id),A,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{b(!1),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"consultation",activeTab:"history",actionType:"vview"})})).catch((e=>{if(b(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):p.a.post("".concat(g,"prep/clinic-visit"),A,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{b(!1),E({adherenceLevel:"",dateInitialAdherenceCounseling:"",datePrepGiven:"",datePrepStart:"",dateReferre:"",diastolic:"",encounterDate:"",extra:{},height:"",hepatitis:{},nextAppointment:"",notedSideEffects:"",otherTestsDone:{},personId:e.patientObj.personId,pregnant:"",prepEnrollmentUuid:"",pulse:"",referred:"",regimenId:"",respiratoryRate:"",riskReductionServices:"",stiScreening:"",syndromicStiScreening:null,syphilis:{},systolic:"",temperature:"",urinalysis:{},urinalysisResult:"",weight:"",why:"",otherDrugs:"",duration:"",prepGiven:""}),o.b.success("Clinic Visit save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"consultation",activeTab:"history",actionType:"vview"})})).catch((e=>{if(b(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))};return Object(se.jsxs)("div",{children:[Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"col-md-6",children:Object(se.jsx)("h2",{children:"Clinic Follow-up Visit"})})}),Object(se.jsx)(Be.a,{children:Object(se.jsx)(Be.a.Column,{children:Object(se.jsxs)(Ye.a,{children:[Object(se.jsx)(ne.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsx)("h4",{style:{color:"#fff"},children:"VITAL  SIGNS"})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Date of Visit ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{type:"date",name:"encounterDate",id:"encounterDate",value:A.encounterDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Q,min:i&&i.dateEnrolled?i.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:s}),""!==t.encounterDate?Object(se.jsx)("span",{className:d.error,children:t.encounterDate}):""]})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Pulse"}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(He.a,{type:"number",name:"pulse",id:"pulse",onChange:Q,min:"40",max:"120",value:A.pulse,onKeyUp:e=>{if("pulse"===e.target.name&&(e.target.value<40||e.target.value>120)){const e="Pulse must not be greater than 120 and less than 40";w({...P,pulse:e})}else w({...P,pulse:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==P.pulse?Object(se.jsx)("span",{className:d.error,children:P.pulse}):"",""!==t.pulse?Object(se.jsx)("span",{className:d.error,children:t.pulse}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Respiratory Rate "}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(He.a,{type:"number",name:"respiratoryRate",id:"respiratoryRate",onChange:Q,min:"10",max:"70",value:A.respiratoryRate,onKeyUp:e=>{if("respiratoryRate"===e.target.name&&(e.target.value<10||e.target.value>70)){const e="Respiratory Rate must not be greater than 70 and less than 10";w({...P,respiratoryRate:e})}else w({...P,respiratoryRate:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==P.respiratoryRate?Object(se.jsx)("span",{className:d.error,children:P.respiratoryRate}):"",""!==t.respiratoryRate?Object(se.jsx)("span",{className:d.error,children:t.respiratoryRate}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Temperature "}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(He.a,{type:"number",name:"temperature",id:"temperature",onChange:Q,min:"35",max:"47",value:A.temperature,onKeyUp:e=>{if("temperature"===e.target.name&&(e.target.value<35||e.target.value>47)){const e="Temperature must not be greater than 47 and less than 35";w({...P,temperature:e})}else w({...P,temperature:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsxs)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:[Object(se.jsx)("sup",{children:"o"}),"c"]})]}),""!==P.temperature?Object(se.jsx)("span",{className:d.error,children:P.temperature}):"",""!==t.temperature?Object(se.jsx)("span",{className:d.error,children:t.temperature}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-5",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Body Weight ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(He.a,{type:"number",name:"weight",id:"weight",onChange:Q,min:"3",max:"150",value:A.weight,onKeyUp:e=>{if("weight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";w({...P,weight:e})}else w({...P,weight:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==P.weight?Object(se.jsx)("span",{className:d.error,children:P.weight}):"",""!==t.weight?Object(se.jsx)("span",{className:d.error,children:t.weight}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Height ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"cm"}),Object(se.jsx)(He.a,{type:"number",name:"height",id:"height",onChange:Q,value:A.height,min:"48.26",max:"216.408",onKeyUp:e=>{if("height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){const e="Height cannot be greater than 216.408 and less than 48.26";w({...P,height:e})}else w({...P,height:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem"},children:""!==A.height?(A.height/100).toFixed(2)+"m":"m"})]}),""!==P.height?Object(se.jsx)("span",{className:d.error,children:P.height}):"",""!==t.height?Object(se.jsx)("span",{className:d.error,children:t.height}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 mt-2 col-md-2",children:""!==A.weight&&""!==A.height&&Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(ne.a,{children:[" "," "]}),Object(se.jsx)(_e.a,{children:Object(se.jsxs)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI : ",(A.weight/(A.height/100*(A.height/100))).toFixed(2)]})})]})})]}),Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Blood Pressure"}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"systolic(mmHg)"}),Object(se.jsx)(He.a,{type:"number",name:"systolic",id:"systolic",min:"90",max:"240",onChange:Q,value:A.systolic,onKeyUp:e=>{if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){const e="Blood Pressure systolic must not be greater than 240 and less than 90";w({...P,systolic:e})}else w({...P,systolic:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(se.jsx)(He.a,{type:"number",name:"diastolic",id:"diastolic",min:0,max:140,onChange:Q,value:A.diastolic,onKeyUp:e=>{if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){const e="Blood Pressure diastolic must not be greater than 140 and less than 60";w({...P,diastolic:e})}else w({...P,diastolic:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s})]}),""!==P.systolic?Object(se.jsx)("span",{className:d.error,children:P.systolic}):"",""!==t.systolic?Object(se.jsx)("span",{className:d.error,children:t.systolic}):"",""!==P.diastolic?Object(se.jsx)("span",{className:d.error,children:P.diastolic}):"",""!==t.diastolic?Object(se.jsx)("span",{className:d.error,children:t.diastolic}):""]})})})]}),Object(se.jsx)(ne.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsx)("h4",{style:{color:"#fff"}})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"HIV Test Result "}),Object(se.jsxs)(He.a,{type:"select",name:"hivTestResult",id:"hivTestResult",value:A.hivTestResult,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),S.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Noted Side Effects "}),Object(se.jsxs)(He.a,{type:"select",name:"notedSideEffects",id:"notedSideEffects",value:A.notedSideEffects,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),N.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"STI Screening"}),Object(se.jsxs)(He.a,{type:"select",name:"stiScreening",id:"stiScreening",value:A.stiScreening,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"true",children:"Yes "}),Object(se.jsx)("option",{value:"false",children:"No "})]})]})}),"true"===A.stiScreening&&Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Syndromic STI Screening  "}),Object(se.jsxs)(He.a,{type:"select",name:"syndromicStiScreening",id:"syndromicStiScreening",value:A.syndromicStiScreening,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),u.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Level of Adherence ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"adherenceLevel",id:"adherenceLevel",value:A.adherenceLevel,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),h.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==t.adherenceLevel?Object(se.jsx)("span",{className:d.error,children:t.adherenceLevel}):""]})}),"PREP_LEVEL_OF_ADHERENCE_(POOR)_\u2265_7_DOSES"===A.adherenceLevel&&Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Why Poor/Fair Adherence "}),Object(se.jsxs)(He.a,{type:"select",name:"whyAdherenceLevelPoor",id:"whyAdherenceLevelPoor",value:A.whyAdherenceLevelPoor,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),T.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"",children:["PrEP Regimen ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"regimenId",id:"regimenId",onChange:Q,value:A.regimenId,disabled:s,children:[Object(se.jsx)("option",{value:"",children:" Select"}),I.map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),""!==t.regimenId?Object(se.jsx)("span",{className:d.error,children:t.regimenId}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Duration ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{type:"number",name:"duration",id:"duration",value:A.duration,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s}),""!==t.duration?Object(se.jsx)("span",{className:d.error,children:t.duration}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Other Drugs"}),Object(se.jsx)(He.a,{type:"text",name:"otherDrugs",id:"otherDrugs",value:A.otherDrugs,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s})]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(ne.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"urinalysisTest",value:"Yes",onChange:e=>{a({...t,[e.target.name]:""}),e.target.checked?B({...k,urinalysisTest:"Yes"}):B({..._,urinalysisTest:"No"})},checked:"Yes"==k.urinalysisTest})," Urinalysis Test"]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===k.urinalysisTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Urinalysis Test Date ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{type:"date",name:"testDate",id:"testDate",value:k.testDate,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:i&&i.dateEnrolled?i.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:s}),""!==t.testDate?Object(se.jsx)("span",{className:d.error,children:t.testDate}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Urinalysis Test Result ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"result",id:"result",value:k.result,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"Positive",children:"Positive "}),Object(se.jsx)("option",{value:"Negative",children:"Negative "})]}),""!==t.result?Object(se.jsx)("span",{className:d.error,children:t.result}):""]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(ne.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"hepatitisTest",value:"Yes",onChange:e=>{a({...t,[e.target.name]:""}),e.target.checked?H({...q,hepatitisTest:"Yes"}):H({...Y,syphilisTest:"No"})},checked:"Yes"===q.hepatitisTest})," Hepatitis  Test "]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===q.hepatitisTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Hepatitis  Test  Date"}),Object(se.jsx)(He.a,{type:"date",name:"testDate",id:"testDate",value:q.testDate,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:i&&i.dateEnrolled?i.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:s})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Hepatitis  Test  Result"}),Object(se.jsxs)(He.a,{type:"select",name:"result",id:"result",value:q.result,onChange:ae,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"Positive",children:"Positive "}),Object(se.jsx)("option",{value:"Negative",children:"Negative "})]})]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(ne.a,{as:"a",color:"red",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"syphilisTest",value:"Yes",onChange:e=>{a({...t,[e.target.name]:""}),e.target.checked?z({...Y,syphilisTest:"Yes"}):z({...Y,syphilisTest:"No"})},checked:"Yes"===Y.syphilisTest})," Syphilis Test "]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===Y.syphilisTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Syphilis Test  Date"}),Object(se.jsx)(He.a,{type:"date",name:"testDate",id:"testDate",value:Y.testDate,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,min:i&&i.dateEnrolled?i.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD")})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Syphilis Test  Result"}),Object(se.jsxs)(He.a,{type:"select",name:"result",id:"result",value:Y.result,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"Positive",children:"Positive "}),Object(se.jsx)("option",{value:"Negative",children:"Negative "})]})]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(ne.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"otherTest",value:"Yes",onChange:e=>{a({...t,[e.target.name]:""}),e.target.checked?M({..._,otherTest:"Yes"}):M({..._,otherTest:"No"})},checked:"Yes"===_.otherTest})," Other Test "]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===_.otherTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:" Test  Name"}),Object(se.jsx)(He.a,{type:"text",name:"name",id:"name",value:_.name,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:" Test  Date"}),Object(se.jsx)(He.a,{type:"date",name:"testDate",id:"testDate",value:_.testDate,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,min:i&&i.dateEnrolled?i.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD")})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:" Test  Result"}),Object(se.jsxs)(He.a,{type:"select",name:"reult",id:"result",value:_.prepGiven,onChange:ee,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"Positive",children:"Positive "}),Object(se.jsx)("option",{value:"Negative",children:"Negative "})]})]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)(ne.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsx)("h4",{style:{color:"#fff"},children:"NEXT APPOINTMENT DATE "})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:" mb-3 col-md-12",children:[Object(se.jsx)(He.a,{type:"date",name:"nextAppointment",id:"nextAppointment",className:"col-md-6",value:A.nextAppointment,onChange:Q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:A.encounterDate,disabled:s}),""!==t.nextAppointment?Object(se.jsx)("span",{className:d.error,children:t.nextAppointment}):""]})]}),Object(se.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:s,className:d.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:ce,disabled:j,children:j?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:d.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:ce,disabled:j,children:j?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})]})};const Ve={Add:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(N.a,{...e,ref:t}))),Check:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(I.a,{...e,ref:t}))),Clear:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Delete:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(k.a,{...e,ref:t}))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(Y.a,{...e,ref:t}))),Export:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(V.a,{...e,ref:t}))),Filter:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(q.a,{...e,ref:t}))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),LastPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(F.a,{...e,ref:t}))),NextPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(T.a,{...e,ref:t}))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(A.a,{...e,ref:t}))),Search:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t}))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(S.a,{...e,ref:t}))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(W.a,{...e,ref:t}))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(se.jsx)(J.a,{...e,ref:t})))};Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ge=e=>{const[t,a]=Object(r.useState)([]),[c,i]=Object(r.useState)(!0),[n,l]=Object(r.useState)(!1),[d,j]=s.a.useState(!1),[b,h]=Object(r.useState)(null),m=()=>j(!d);Object(r.useEffect)((()=>{u(),"view"===e.activeContent.actionType&&u()}),[e.patientObj.id,e.activeContent.actionType]);const u=()=>{i(!0),p.a.get("".concat(g,"prep-clinic/person/").concat(e.patientObj.personId,"?isCommenced=false&last=false"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{i(!1),a(e.data)})).catch((e=>{}))},f=(t,a)=>{e.setActiveContent({...e.activeContent,route:"consultation",id:t.id,actionType:a,activeTab:"home"})};return Object(se.jsxs)("div",{children:[Object(se.jsx)("br",{}),Object(se.jsx)(x.a,{icons:Ve,title:"Patient Clinic Visit History ",columns:[{title:"Visit Date",field:"date"},{title:"Regimen Given",field:"regimen"},{title:"Next Appointment",field:"nextAppointment",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:c,data:t&&t.map((e=>({date:e.encounterDate,regimen:e.regimen,nextAppointment:e.nextAppointment,actions:Object(se.jsx)("div",{children:Object(se.jsx)(ve.a.Menu,{position:"right",children:Object(se.jsx)(ve.a.Item,{children:Object(se.jsx)(Te.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(se.jsx)(we.a,{item:!0,text:"Action",children:Object(se.jsxs)(we.a.Menu,{style:{marginTop:"10px"},children:[Object(se.jsxs)(we.a.Item,{onClick:()=>f(e,"view"),children:[" ",Object(se.jsx)(Ae.a,{name:"eye"}),"View  "]}),Object(se.jsxs)(we.a.Item,{onClick:()=>f(e,"update"),children:[Object(se.jsx)(Ae.a,{name:"edit"}),"Edit"]}),Object(se.jsxs)(we.a.Item,{onClick:()=>(e=>{m(),h(e)})(e),children:[" ",Object(se.jsx)(Ae.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(se.jsxs)(Re.a,{show:d,toggle:m,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Re.a.Header,{children:Object(se.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Re.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:b&&b.name})]})}),Object(se.jsxs)(Re.a.Footer,{children:[Object(se.jsx)(Te.a,{onClick:()=>{var e;"prep-eligibility"===(e=b).path?(l(!0),p.a.delete("".concat(g,"prep-eligibility/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(l(!0),p.a.delete("".concat(g,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(l(!0),p.a.delete("".concat(g,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment2"===e.path&&(l(!0),p.a.delete("".concat(g,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),u(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:n,children:!1===n?"Yes":"Deleting..."}),Object(se.jsx)(Te.a,{onClick:m,style:{backgroundColor:"#014d88",color:"#fff"},disabled:n,children:"No"})]})]})]})};const Ke={borderRadius:"2px",fontSize:14};var Xe=e=>{const[t,a]=Object(r.useState)("home"),s=e.patientObj;return Object(r.useEffect)((()=>{a(e.activeContent.activeTab)}),[e.activeContent]),Object(se.jsx)(r.Fragment,{children:Object(se.jsx)(l.a,{children:Object(se.jsx)(d.a,{xl:12,children:Object(se.jsx)(j.a,{style:Ke,children:Object(se.jsx)(j.a.Body,{children:Object(se.jsx)("div",{className:"custom-tab-1",children:Object(se.jsxs)(b.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>a(e),className:"mb-3",children:[Object(se.jsx)(h.a,{eventKey:"home",title:"CLINIC VISIT ",children:Object(se.jsx)(Ue,{patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})}),Object(se.jsx)(h.a,{eventKey:"history",title:" HISTORY",children:Object(se.jsx)(Ge,{patientObj:s,activeContent:e.activeContent,setActiveContent:e.setActiveContent})})]})})})})})})})},Je=a(1020),Ze=a(1021),Qe=a(1022);const $e=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var et=e=>{const t=e.patientObj,a=$e(),[s,c]=Object(r.useState)(!1),[i,n]=Object(r.useState)([]),[l,d]=Object(r.useState)({dateInitialAdherenceCounseling:"",datePrepStart:"",height:"",personId:t.personId,prepClientId:e.prepId,regimenId:"",urinalysisResult:"",prepEligibilityUuid:"",weight:"",drugAllergies:"",referred:"",datereferred:"",extra:{},nextAppointment:"",pregnant:!0,prepEnrollmentUuid:"",duration:""}),[j,b]=Object(r.useState)(!1),[h,m]=Object(r.useState)({}),[u,x]=Object(r.useState)([]),[f,v]=Object(r.useState)();Object(r.useEffect)((()=>{S(),C(),N(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(y(e.activeContent.id),c("view"===e.activeContent.actionType))}),[]);const N=()=>{p.a.get("".concat(g,"prep-regimen"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{n(e.data)})).catch((e=>{}))},y=t=>{p.a.get("".concat(g,"prep/commencement/person/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{d(e.data.find((e=>e.id===t)))})).catch((e=>{}))},S=()=>{p.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{x(e.data)})).catch((e=>{}))},C=()=>{p.a.get("".concat(g,"prep/enrollment/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{v(e.data)})).catch((e=>{}))},[I,R]=Object(r.useState)({weight:"",height:""}),T=e=>{m({...h,[e.target.name]:""}),d({...l,[e.target.name]:e.target.value})},D=a=>{a.preventDefault(),(()=>{let e={...h};return e.dateInitialAdherenceCounseling=l.dateInitialAdherenceCounseling?"":"This field is required",e.datePrepStart=l.datePrepStart?"":"This field is required",e.regimenId=l.regimenId?"":"This field is required",e.height=l.height?"":"This field is required",e.weight=l.weight?"":"This field is required",e.referred=l.referred?"":"This field is required",m({...e}),Object.values(e).every((e=>""==e))})()&&(b(!0),l.prepEnrollmentUuid=f.uuid,e.activeContent&&"update"===e.activeContent.actionType?p.a.put("".concat(g,"prep-clinic/").concat(e.activeContent.id),l,{headers:{Authorization:"Bearer ".concat(O)}}).then((a=>{b(!1),t.commencementCount=1,o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(b(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):p.a.post("".concat(g,"prep/commencement"),l,{headers:{Authorization:"Bearer ".concat(O)}}).then((a=>{b(!1),t.commencementCount=1,e.PatientObject(),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(b(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))};return Object(se.jsx)("div",{children:Object(se.jsx)(Je.a,{className:a.root,children:Object(se.jsx)(Ze.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:" PrEP Commencement "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"uniqueId",children:["Date of Initial Adherence Counseling ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateInitialAdherenceCounseling",id:"dateInitialAdherenceCounseling",min:f&&f.dateEnrolled?f.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),value:l.dateInitialAdherenceCounseling,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==h.dateInitialAdherenceCounseling?Object(se.jsx)("span",{className:a.error,children:h.dateInitialAdherenceCounseling}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Date PrEP started ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"datePrepStart",id:"datePrepStart",min:f&&f.dateEnrolled?f.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),value:l.datePrepStart,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==h.datePrepStart?Object(se.jsx)("span",{className:a.error,children:h.datePrepStart}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Body Weight ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(He.a,{type:"number",name:"weight",id:"weight",onChange:T,min:"3",max:"150",value:l.weight,onKeyUp:e=>{if(m({...h,[e.target.name]:""}),"weight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";R({...I,weight:e})}else R({...I,weight:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:s}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==I.bodyWeight?Object(se.jsx)("span",{className:a.error,children:I.bodyWeight}):"",""!==h.weight?Object(se.jsx)("span",{className:a.error,children:h.weight}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Height ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(_e.a,{children:[Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"cm"}),Object(se.jsx)(He.a,{type:"number",name:"height",id:"height",onChange:T,value:l.height,min:"48.26",max:"216.408",disabled:s,onKeyUp:e=>{if(m({...h,[e.target.name]:""}),"height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){const e="Height cannot be greater than 216.408 and less than 48.26";R({...I,height:e})}else R({...I,height:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(se.jsx)(Me.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem"},children:""!==l.height?(l.height/100).toFixed(2)+"m":"m"})]}),""!==I.height?Object(se.jsx)("span",{className:a.error,children:I.height}):"",""!==h.height?Object(se.jsx)("span",{className:a.error,children:h.height}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 mt-2 col-md-4",children:""!==l.weight&&""!==l.height&&Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:[" "," "]}),Object(se.jsx)(_e.a,{children:Object(se.jsxs)(Me.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI :  ",(l.weight/(l.height/100*(l.height/100))).toFixed(2)]})})]})}),"Female"===e.patientObj.gender||"female"===e.patientObj.gender||"FEMALE"===e.patientObj.gender&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Pregnancy Status"}),Object(se.jsxs)(He.a,{type:"select",name:"pregnant",id:"pregnant",onChange:T,value:l.pregnant,disabled:s,children:[Object(se.jsx)("option",{value:"1",children:" "}),u.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),"PREGANACY_STATUS_BREASTFEEDING"===l.pregnant&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Breast Feeding"}),Object(se.jsxs)(He.a,{type:"select",name:"breastFeeding",id:"breastFeeding",onChange:T,value:l.breastFeeding,disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"Yes",children:" Yes"}),Object(se.jsx)("option",{value:"No",children:" No"})]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"History of drug Allergies"}),Object(se.jsx)(He.a,{type:"textarea",name:"drugAllergies",id:"drugAllergies",onChange:T,value:l.drugAllergies,disabled:s})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Urinalysis Result"}),Object(se.jsx)(He.a,{type:"text",name:"urinalysisResult",id:"urinalysisResult",onChange:T,value:l.urinalysisResult,disabled:s})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"",children:["Referred ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"referred",id:"referred",onChange:T,value:l.referred,disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select "}),Object(se.jsx)("option",{value:"true",children:" Yes"}),Object(se.jsx)("option",{value:"false",children:" No"})]}),""!==h.referred?Object(se.jsx)("span",{className:a.error,children:h.referred}):""]})}),"true"===l.referred&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Date referred"}),Object(se.jsx)(He.a,{type:"date",name:"datereferred",id:"datereferred",onChange:T,value:l.datereferred,min:f&&f.dateEnrolled?f.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:s}),""!==h.datereferred?Object(se.jsx)("span",{className:a.error,children:h.datereferred}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"",children:["PrEP Regimen ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"regimenId",id:"regimenId",onChange:T,value:l.regimenId,disabled:s,children:[Object(se.jsx)("option",{value:"",children:" Select"}),i.map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),""!==h.regimenId?Object(se.jsx)("span",{className:a.error,children:h.regimenId}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Duration"}),Object(se.jsx)(He.a,{type:"number",name:"duration",id:"duration",value:l.duration,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s})]})})]}),j?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:s,className:a.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:D,disabled:j,children:j?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:D,disabled:j,children:j?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})})},tt=a(120),at=a.n(tt);const rt=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var st=e=>{const t=e.patientObj,a=rt(),[s,c]=Object(r.useState)({dateInterruption:"",why:"",interruptionType:"",dateRestartPlacedBackMedication:"",personId:t.personId,causeOfDeath:"",dateClientDied:"",dateClientReferredOut:"",facilityReferredTo:"",interruptionDate:"",interruptionReason:"",sourceOfDeathInfo:""}),[i,n]=Object(r.useState)(!1),[l,d]=Object(r.useState)({}),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)();Object(r.useEffect)((()=>{x(),u()}),[]);const u=()=>{p.a.get("".concat(g,"prep/enrollment/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{m(e.data)})).catch((e=>{}))},x=()=>{p.a.get("".concat(g,"application-codesets/v2/PREP_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{b(e.data)})).catch((e=>{}))},f=e=>{d({...l,[e.target.name]:""}),c({...s,[e.target.name]:e.target.value})};return Object(se.jsx)("div",{children:Object(se.jsx)(Je.a,{className:a.root,children:Object(se.jsx)(Ze.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:" PrEP Discontinuations & Interruptions"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"uniqueId",children:["PrEP Interruptions ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"interruptionType",id:"interruptionType",onChange:f,value:s.interruptionType,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select"}),j.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==l.interruptionType?Object(se.jsx)("span",{className:a.error,children:l.interruptionType}):""]})}),("PREP_STATUS_ADVERSE_DRUG_REACTION"===s.interruptionType||"PREP_STATUS_STOPPED"===s.interruptionType||"PREP_STATUS_LOSS_TO_FOLLOW_UP"===s.interruptionType)&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"uniqueId",children:["Date of Interruption ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{type:"date",name:"interruptionDate",id:"interruptionDate",min:h&&h.dateEnrolled?h.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.interruptionDate,required:!0}),""!==l.interruptionDate?Object(se.jsx)("span",{className:a.error,children:l.interruptionDate}):""]})}),"PREP_STATUS_TRANSFER_OUT"===s.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Date of client referred out "}),Object(se.jsx)(He.a,{type:"date",name:"dateClientReferredOut",id:"dateClientReferredOut",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.dateClientReferredOut,required:!0}),""!==l.dateClientReferredOut?Object(se.jsx)("span",{className:a.error,children:l.dateClientReferredOut}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Facility referred to "}),Object(se.jsx)(He.a,{type:"text",name:"facilityReferredTo",id:"facilityReferredTo",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.facilityReferredTo,required:!0}),""!==l.facilityReferredTo?Object(se.jsx)("span",{className:a.error,children:l.facilityReferredTo}):""]})})]}),"PREP_STATUS_DEAD"===s.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Date of client died "}),Object(se.jsx)(He.a,{type:"date",name:"dateClientDied",id:"dateClientDied",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.dateClientDied,required:!0}),""!==l.dateClientDied?Object(se.jsx)("span",{className:a.error,children:l.dateClientDied}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Cause of death"}),Object(se.jsx)(He.a,{type:"text",name:"causeOfDeath",id:"causeOfDeath",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.causeOfDeath,required:!0}),""!==l.causeOfDeath?Object(se.jsx)("span",{className:a.error,children:l.causeOfDeath}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Source of death information  "}),Object(se.jsx)(He.a,{type:"text",name:"sourceOfDeathInfo",id:"sourceOfDeathInfo",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.sourceOfDeathInfo,required:!0}),""!==l.sourceOfDeathInfo?Object(se.jsx)("span",{className:a.error,children:l.sourceOfDeathInfo}):""]})})]}),"PREP_STATUS_RESTART"===s.interruptionType&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date of restart if placed back on medication"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateRestartPlacedBackMedication",id:"dateRestartPlacedBackMedication",max:te()(new Date).format("YYYY-MM-DD"),value:s.dateRestartPlacedBackMedication,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==l.dateRestartPlacedBackMedication?Object(se.jsx)("span",{className:a.error,children:l.dateRestartPlacedBackMedication}):""]})}),"PREP_STATUS_SEROCONVERTED"===s.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Date Seroconverted "}),Object(se.jsx)(He.a,{type:"date",name:"dateSeroconverted",id:"dateSeroconverted",max:te()(new Date).format("YYYY-MM-DD"),onChange:f,value:s.dateSeroconverted,required:!0}),""!==l.dateSeroconverted?Object(se.jsx)("span",{className:a.error,children:l.dateSeroconverted}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Link to ART"}),Object(se.jsxs)(He.a,{type:"select",name:"linkToArt",id:"linkToArt",onChange:f,value:s.linkToArt,children:[Object(se.jsx)("option",{value:"",children:" Select"}),Object(se.jsx)("option",{value:"true",children:"Yes "}),Object(se.jsx)("option",{value:"false",children:" No"})]}),""!==l.linkToArt?Object(se.jsx)("span",{className:a.error,children:l.linkToArt}):""]})}),"true"===s.linkToArt&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date link to ART"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateLinkToArt",id:"dateLinkToArt",max:te()(new Date).format("YYYY-MM-DD"),value:s.dateLinkToArt,onChange:f,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==l.dateLinkToArt?Object(se.jsx)("span",{className:a.error,children:l.dateLinkToArt}):""]})})]})]}),i?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(se.jsx)(Le.a,{}),onClick:t=>{t.preventDefault(),(()=>{let e={...l};return e.interruptionType=s.interruptionType?"":"This field is required",d({...e}),Object.values(e).every((e=>""==e))})()&&(n(!0),p.a.post("".concat(g,"prep/interruption"),s,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{n(!1),o.b.success("Record save successful"),e.PatientObject(),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:i?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(Z.a,{variant:"contained",className:a.button,startIcon:Object(se.jsx)(at.a,{}),onClick:e.toggle,style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})},ct=a(1005),it=(a(354),a(1040));const nt=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var ot=e=>{const t=nt(),[a,s]=Object(r.useState)(!1),c=e.patientDetail&&e.patientDetail.personResponseDto?e.patientDetail.personResponseDto.id:"",[i,n]=Object(r.useState)(!1),[l,d]=Object(r.useState)({}),[j,b]=Object(r.useState)([]);let h={...l};const[m,u]=Object(r.useState)({counselingType:"",drugUseHistory:{},extra:{},firstTimeVisit:!0,hivRisk:{},numChildrenLessThanFive:"",numWives:"",personId:"",personalHivRiskAssessment:{},sexPartner:"TARGET_GROUP_GEN_POP",sexPartnerRisk:{},stiScreening:{},targetGroup:"TARGET_GROUP_GEN_POP",uniqueId:"",visitDate:""});Object(r.useEffect)((()=>{f(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(x(e.activeContent.id),s("view"===e.activeContent.actionType))}),[e.patientObj]);const x=e=>{p.a.get("".concat(g,"prep/eligibility/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{console.log(e.data),u(e.data),y(e.data.personalHivRiskAssessment),R(e.data.sexPartnerRisk),w(e.data.stiScreening),B(e.data.drugUseHistory)})).catch((e=>{}))},f=()=>{p.a.get("".concat(g,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{b(e.data)})).catch((e=>{}))},v=e=>{d({...h,[e.target.name]:""}),u({...m,[e.target.name]:e.target.value})},[N,y]=Object(r.useState)({unprotectedVaginalSexCasual:"",unprotectedVaginalSexRegular:"",uprotectedAnalSexWithCasual:"",uprotectedAnalSexWithRegular:"",stiHistory:"",sharedNeedles:"",moreThan1SexPartner:"",analSexWithPartner:"",unprotectedAnalSexWithPartner:"",haveYouPaidForSex:"",haveSexWithoutCondom:"",experienceCondomBreakage:"",takenPartInSexualOrgy:""}),S=e=>{y({...N,[e.target.name]:e.target.value})},C=Object.values(N).filter((e=>"true"===e)),[I,R]=Object(r.useState)({haveSexWithHIVPositive:"",haveSexWithPartnerInjectDrug:"",haveSexWithPartnerWhoHasSexWithMen:"",haveSexWithPartnerTransgender:"",sexWithPartnersWithoutCondoms:""}),T=e=>{d({...h,[e.target.name]:""}),R({...I,[e.target.name]:e.target.value})},D=Object.values(I).filter((e=>"true"===e)),[P,w]=Object(r.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:"",analDischarge:"",analItching:"",analpain:"",swollenIguinal:"",genitalScore:""}),A=e=>{d({...l,[e.target.name]:""}),w({...P,[e.target.name]:e.target.value})},E=Object.values(P).filter((e=>"true"===e)),[k,B]=Object(r.useState)({useAnyOfTheseDrugs:"",inject:"",sniff:"",smoke:"",Snort:"",useDrugSexualPerformance:"",hivTestedBefore:"",recommendHivRetest:"",clinicalSetting:"",reportHivRisk:"",hivExposure:"",hivTestResultAtvisit:"",lastTest:""}),Y=e=>{d({...h,[e.target.name]:""}),B({...k,[e.target.name]:e.target.value})},z=t=>{t.preventDefault(),h.visitDate=m.visitDate?"":"This field is required.",h.sexPartner=m.sexPartner?"":"This field is required.",h.hivTestResultAtvisit=k.hivTestResultAtvisit?"":"This field is required.",d({...h}),Object.values(h).every((e=>""===e))?(n(!0),m.drugUseHistory=k,m.personalHivRiskAssessment=N,m.sexPartnerRisk=I,m.stiScreening=P,m.personId=c,m.uniqueId=c,e.activeContent&&"update"===e.activeContent.actionType?p.a.put("".concat(g,"prep-eligibility/").concat(e.activeContent.id),m,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{n(!1),e.patientObj.eligibilityCount=1,e.patientObj.hivresultAtVisit=k.hivTestResultAtvisit,e.PatientObject(),o.b.success("Prep Eligilibility save successful!",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):p.a.post("".concat(g,"prep/eligibility"),m,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{n(!1),e.patientObj.eligibilityCount=1,e.patientObj.hivresultAtVisit=k.hivTestResultAtvisit,o.b.success("Prep Eligilibility save successful!",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror&&""!==e.response.data.apierror.message&&e.response.data.apierror&&""!==e.response.data.apierror.subErrors[0].message?o.b.error(e.response.data.apierror.message+" : "+e.response.data.apierror.subErrors[0].field+" "+e.response.data.apierror.subErrors[0].message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):(n(!1),o.b.error("All field are required ",{position:o.b.POSITION.BOTTOM_CENTER}))};return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(ct.a,{className:t.root,children:Object(se.jsxs)(Ze.a,{children:[Object(se.jsx)("h2",{children:"PrEP Eligibilty Screening Form"}),Object(se.jsx)("form",{children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Visit Date ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)("input",{type:"date",className:"form-control",name:"visitDate",id:"visitDate",value:m.visitDate,onChange:v,min:e.patientDetail&&null!==e.patientDetail.dateHivPositive?e.patientDetail.dateHivPositive:e.patientObj.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a}),""!==l.visitDate?Object(se.jsx)("span",{className:t.error,children:l.visitDate}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Sex partners ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"sexPartner",id:"sexPartner",value:m.sexPartner,onChange:v,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"Male",children:"Male"}),Object(se.jsx)("option",{value:"Female",children:"Female"}),Object(se.jsx)("option",{value:"Both",children:"Both"})]}),""!==l.sexPartner?Object(se.jsx)("span",{className:t.error,children:l.sexPartner}):""]})}),"Male"===e.patientObj.gender||"male"===e.patientObj.gender&&Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Number of wives "}),Object(se.jsx)("input",{className:"form-control",name:"numWives",id:"numWives",value:m.numWives,onChange:v,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a}),""!==l.numWives?Object(se.jsx)("span",{className:t.error,children:l.numWives}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Type of counseling ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"counselingType",id:"counselingType",value:m.counselingType,onChange:v,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:"",children:"Select"}),j.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==l.counselingType?Object(se.jsx)("span",{className:t.error,children:l.counselingType}):""]})})]}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment  (Last 3 months)"}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Unprotected Vaginal sex with casual partner"}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSexCasual",id:"unprotectedVaginalSexCasual",value:N.unprotectedVaginalSexCasual,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSexCasual?Object(se.jsx)("span",{className:t.error,children:l.unprotectedVaginalSexCasual}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Unprotected Vaginal sex with regular partner "}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSexRegular",id:"unprotectedVaginalSexRegular",value:N.unprotectedVaginalSexRegular,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSexRegular?Object(se.jsx)("span",{className:t.error,children:l.unprotectedVaginalSexRegular}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Unprotected Anal sex with casual partner "}),Object(se.jsxs)("select",{className:"form-control",name:"uprotectedAnalSexWithCasual",id:"uprotectedAnalSexWithCasual",value:N.uprotectedAnalSexWithCasual,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedAnalSexWithCasual?Object(se.jsx)("span",{className:t.error,children:l.uprotectedAnalSexWithCasual}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Unprotected Anal sex with regualar partner "}),Object(se.jsxs)("select",{className:"form-control",name:"uprotectedAnalSexWithRegular",id:"uprotectedAnalSexWithRegular",value:N.uprotectedAnalSexWithRegular,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedAnalSexWithRegular?Object(se.jsx)("span",{className:t.error,children:l.uprotectedAnalSexWithRegular}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"History of STI"}),Object(se.jsxs)("select",{className:"form-control",name:"stiHistory",id:"stiHistory",value:N.stiHistory,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.stiHistory?Object(se.jsx)("span",{className:t.error,children:l.stiHistory}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Shared needles/injecting materials"}),Object(se.jsxs)("select",{className:"form-control",name:"sharedNeedles",id:"sharedNeedles",value:N.sharedNeedles,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sharedNeedles?Object(se.jsx)("span",{className:t.error,children:l.sharedNeedles}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"More than 1 sex partner "}),Object(se.jsxs)("select",{className:"form-control",name:"moreThan1SexPartner",id:"moreThan1SexPartner",value:N.moreThan1SexPartner,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThan1SexPartner?Object(se.jsx)("span",{className:t.error,children:l.moreThan1SexPartner}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Anal sex with Male/Female partner "}),Object(se.jsxs)("select",{className:"form-control",name:"analSexWithPartner",id:"analSexWithPartner",value:N.analSexWithPartner,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analSexWithPartner?Object(se.jsx)("span",{className:t.error,children:l.analSexWithPartner}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Unprotected Anal sex with male/female partner "}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedAnalSexWithPartner",id:"unprotectedAnalSexWithPartner",value:N.unprotectedAnalSexWithPartner,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedAnalSexWithPartner?Object(se.jsx)("span",{className:t.error,children:l.unprotectedAnalSexWithPartner}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you paid for sex in the last 6 months?  "}),Object(se.jsxs)("select",{className:"form-control",name:"haveYouPaidForSex",id:"haveYouPaidForSex",value:N.haveYouPaidForSex,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveYouPaidForSex?Object(se.jsx)("span",{className:t.error,children:l.haveYouPaidForSex}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you been paid for sex in the last 6 months "}),Object(se.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:N.moreThanOneSexPartnerLastThreeMonths,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThanOneSexPartnerLastThreeMonths?Object(se.jsx)("span",{className:t.error,children:l.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you experience condom breakage "}),Object(se.jsxs)("select",{className:"form-control",name:"experienceCondomBreakage",id:"experienceCondomBreakage",value:N.experienceCondomBreakage,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.experienceCondomBreakage?Object(se.jsx)("span",{className:t.error,children:l.experienceCondomBreakage}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you taken part in sexual orgy "}),Object(se.jsxs)("select",{className:"form-control",name:"takenPartInSexualOrgy",id:"takenPartInSexualOrgy",value:N.takenPartInSexualOrgy,onChange:S,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.takenPartInSexualOrgy?Object(se.jsx)("span",{className:t.error,children:l.takenPartInSexualOrgy}):""]})}),Object(se.jsxs)(it.a,{warning:!0,children:[Object(se.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(se.jsxs)("b",{children:["Score : ",C.length]})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you had sex with a partner who is HIV positive? "}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithHIVPositive",id:"haveSexWithHIVPositive",value:I.haveSexWithHIVPositive,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithHIVPositive?Object(se.jsx)("span",{className:t.error,children:l.haveSexWithHIVPositive}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you had sex with a partner who inject drug?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerInjectDrug",id:"haveSexWithPartnerInjectDrug",value:I.haveSexWithPartnerInjectDrug,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerInjectDrug?Object(se.jsx)("span",{className:t.error,children:l.haveSexWithPartnerInjectDrug}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you had sex with a partner who has sex with men ?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerWhoHasSexWithMen",id:"haveSexWithPartnerWhoHasSexWithMen",value:I.haveSexWithPartnerWhoHasSexWithMen,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerWhoHasSexWithMen?Object(se.jsx)("span",{className:t.error,children:l.haveSexWithPartnerWhoHasSexWithMen}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you had sex with a partner who is a transgender person"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerTransgender",id:"haveSexWithPartnerTransgender",value:I.haveSexWithPartnerTransgender,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerTransgender?Object(se.jsx)("span",{className:t.error,children:l.haveSexWithPartnerTransgender}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you had sex with a partner who has sex with multiple partners without condoms"}),Object(se.jsxs)("select",{className:"form-control",name:"sexWithPartnersWithoutCondoms",id:"sexWithPartnersWithoutCondoms",value:I.sexWithPartnersWithoutCondoms,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sexWithPartnersWithoutCondoms?Object(se.jsx)("span",{className:t.error,children:l.sexWithPartnersWithoutCondoms}):""]})}),Object(se.jsxs)(it.a,{warning:!0,children:[Object(se.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(se.jsxs)("b",{children:["Score :",D.length]})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Drug Use History"}),Object(se.jsx)("hr",{}),Object(se.jsx)("h3",{children:"Route of Administration"}),Object(se.jsx)("h4",{children:"Do you use any of these drugs/substances ?"}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Inject "}),Object(se.jsxs)("select",{className:"form-control",name:"inject",id:"inject",value:k.inject,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.inject?Object(se.jsx)("span",{className:t.error,children:l.inject}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Sniff "}),Object(se.jsxs)("select",{className:"form-control",name:"sniff",id:"sniff",value:k.sniff,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sniff?Object(se.jsx)("span",{className:t.error,children:l.sniff}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Snort"}),Object(se.jsxs)("select",{className:"form-control",name:"Snort",id:"Snort",value:k.fever,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.Snort?Object(se.jsx)("span",{className:t.error,children:l.Snort}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Smoke"}),Object(se.jsxs)("select",{className:"form-control",name:"smoke",id:"smoke",value:k.smoke,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.smoke?Object(se.jsx)("span",{className:t.error,children:l.smoke}):""]})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you used drugs to enhance sexual performance ? "}),Object(se.jsxs)("select",{className:"form-control",name:"useDrugSexualPerformance",id:"useDrugSexualPerformance",value:k.useDrugSexualPerformance,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.useDrugSexualPerformance?Object(se.jsx)("span",{className:t.error,children:l.useDrugSexualPerformance}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Have you had HIV testing before ?"}),Object(se.jsxs)("select",{className:"form-control",name:"hivTestedBefore",id:"hivTestedBefore",value:k.hivTestedBefore,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.hivTestedBefore?Object(se.jsx)("span",{className:t.error,children:l.hivTestedBefore}):""]})}),"true"===k.hivTestedBefore&&Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"When was your last test?    "}),Object(se.jsxs)("select",{className:"form-control",name:"lastTest",id:"lastTest",value:k.lastTest,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsxs)("option",{value:"1 Month",children:["<","1 Month"]}),Object(se.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(se.jsx)("option",{value:"4-6Months",children:"4-6 Months"}),Object(se.jsxs)("option",{value:"6Months",children:[">","6 months"]})]}),""!==l.lastTest?Object(se.jsx)("span",{className:t.error,children:l.lastTest}):""]})})]}),Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["HIV test result at visit ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"hivTestResultAtvisit",id:"hivTestResultAtvisit",value:k.hivTestResultAtvisit,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"Positive",children:"Positive"}),Object(se.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==l.hivTestResultAtvisit?Object(se.jsx)("span",{className:t.error,children:l.hivTestResultAtvisit}):""]})})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Recommended for HIV Retest ?"}),Object(se.jsxs)("select",{className:"form-control",name:"recommendHivRetest",id:"recommendHivRetest",value:k.recommendHivRetest,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.recommendHivRetest?Object(se.jsx)("span",{className:t.error,children:l.recommendHivRetest}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Tested in certain Clinical settings, such as STI clinics?"}),Object(se.jsxs)("select",{className:"form-control",name:"clinicalSetting",id:"clinicalSetting",value:k.clinicalSetting,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.clinicalSetting?Object(se.jsx)("span",{className:t.error,children:l.clinicalSetting}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Report ongoing HIV risk behaviors?"}),Object(se.jsxs)("select",{className:"form-control",name:"reportHivRisk",id:"reportHivRisk",value:k.reportHivRisk,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.reportHivRisk?Object(se.jsx)("span",{className:t.error,children:l.reportHivRisk}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Report a specific HIV exposure within the last 3 months"}),Object(se.jsxs)("select",{className:"form-control",name:"hivExposure",id:"hivExposure",value:k.hivExposure,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.hivExposure?Object(se.jsx)("span",{className:t.error,children:l.hivExposure}):""]})}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientDetail&&"Female"===e.patientDetail.personResponseDto.sex&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(se.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:P.vaginalDischarge,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.vaginalDischarge?Object(se.jsx)("span",{className:t.error,children:l.vaginalDischarge}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(se.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:P.lowerAbdominalPains,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.lowerAbdominalPains?Object(se.jsx)("span",{className:t.error,children:l.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientDetail.personResponseDto.sex&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(se.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:P.urethralDischarge,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.urethralDischarge?Object(se.jsx)("span",{className:t.error,children:l.urethralDischarge}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Complaints of scrotal swelling and pain"}),Object(se.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:P.complaintsOfScrotal,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsOfScrotal?Object(se.jsx)("span",{className:t.error,children:l.complaintsOfScrotal}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(se.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:P.complaintsGenitalSore,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsGenitalSore?Object(se.jsx)("span",{className:t.error,children:l.complaintsGenitalSore}):""]})})]}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Genital score +/-pains?"}),Object(se.jsxs)("select",{className:"form-control",name:"genitalScore",id:"genitalScore",value:P.genitalScore,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.genitalScore?Object(se.jsx)("span",{className:t.error,children:l.genitalScore}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Swollen iguinal lymph node +/-pains?"}),Object(se.jsxs)("select",{className:"form-control",name:"swollenIguinal",id:"swollenIguinal",value:P.swollenIguinal,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.swollenIguinal?Object(se.jsx)("span",{className:t.error,children:l.swollenIguinal}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Anal pain on stooling?"}),Object(se.jsxs)("select",{className:"form-control",name:"analpain",id:"analpain",value:P.analpain,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analpain?Object(se.jsx)("span",{className:t.error,children:l.analpain}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Anal itching?"}),Object(se.jsxs)("select",{className:"form-control",name:"analItching",id:"analItching",value:P.analItching,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analItching?Object(se.jsx)("span",{className:t.error,children:l.analItching}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Anal discharge?"}),Object(se.jsxs)("select",{className:"form-control",name:"analDischarge",id:"analDischarge",value:P.analDischarge,onChange:A,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:a,children:[Object(se.jsx)("option",{value:""}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analDischarge?Object(se.jsx)("span",{className:t.error,children:l.analDischarge}):""]})}),Object(se.jsxs)(it.a,{warning:!0,children:[Object(se.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test "]}),Object(se.jsxs)("b",{children:["Score :",E.length]})]}),i?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-12",children:e.activeContent&&"update"===e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:a,className:t.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:z,disabled:i,children:i?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:t.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:z,disabled:i,children:i?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})})]})})]})})})};a(613);const lt=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})));var dt=e=>{const t=e.patientObj;Object(n.g)();const a=lt(),[s,c]=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),[i,l]=Object(r.useState)(!1),[d,j]=Object(r.useState)({}),[b,h]=Object(r.useState)([]),[m,u]=Object(r.useState)([]),[x,f]=Object(r.useState)(!1),[v,N]=Object(r.useState)(!1);Object(r.useEffect)((()=>{}),[]);const y=e=>{c({...s,[e.target.name]:e.target.value}),"entryPointId"===e.target.name&&("21"===e.target.value?f(!0):f(!1))};return Object(se.jsx)("div",{children:Object(se.jsx)(Je.a,{children:Object(se.jsx)(Ze.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Visit"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Duration on PErp  "}),Object(se.jsx)(He.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:y,value:s.uniqueId,required:!0})]})})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Noted Side Effects"}),Object(se.jsxs)(He.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:y,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:a.error,children:d.entryPointId}):""]})]})})}),Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"entryPointId",children:"HTS Result"}),Object(se.jsxs)(He.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:y,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:a.error,children:d.entryPointId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"entryPointId",children:"Risk Reduction Plan"}),Object(se.jsxs)(He.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:y,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:a.error,children:d.entryPointId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"entryPointId",children:"Syndromic STI Screening"}),Object(se.jsxs)(He.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:y,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:a.error,children:d.entryPointId}):""]})]})})]}),Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h3",{children:"PrEP Drugs"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Regimen"}),Object(se.jsxs)(He.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:y,value:s.statusAtRegistrationId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),m.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.statusAtRegistrationId?Object(se.jsx)("span",{className:a.error,children:d.statusAtRegistrationId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Level of Adherence"}),Object(se.jsxs)(He.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:y,value:s.statusAtRegistrationId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),m.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.statusAtRegistrationId?Object(se.jsx)("span",{className:a.error,children:d.statusAtRegistrationId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Why Poor/Fair Adherence?"}),Object(se.jsxs)(He.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:y,value:s.statusAtRegistrationId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),m.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.statusAtRegistrationId?Object(se.jsx)("span",{className:a.error,children:d.statusAtRegistrationId}):""]})]})})]}),i?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(se.jsx)(Le.a,{}),onClick:a=>{a.preventDefault(),s.personId=t.id,t.enrolled=!0,delete s.tableData,l(!0),p.a.post("".concat(g,"hiv/enrollment"),s,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{l(!1),o.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((e=>{l(!1),o.b.error("Something went wrong")}))},children:i?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(Z.a,{variant:"contained",className:a.button,startIcon:Object(se.jsx)(at.a,{}),onClick:e.toggle,children:Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},jt=a(102),bt=a.n(jt);const ht=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var mt=e=>{const[t,a]=Object(r.useState)([]),s=ht(),[c,i]=Object(r.useState)({dateEnrolled:"",dateReferred:"",extra:{},personId:0,prepEligibilityUuid:"",riskType:"",supporterName:"",supporterPhone:"",supporterRelationshipType:"",uniqueId:"",hivTestingPoint:"",dateOfLastHivNegativeTest:""}),[n,l]=Object(r.useState)(!1),[d,j]=Object(r.useState)({}),[b,h]=Object(r.useState)([]),[m,u]=Object(r.useState)([]),[x,f]=Object(r.useState)(),[v,N]=Object(r.useState)(!1);Object(r.useEffect)((()=>{I(),S(),C(),y(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(R(e.activeContent.id),N("view"===e.activeContent.actionType))}),[]);const y=()=>{p.a.get("".concat(g,"application-codesets/v2/HTS_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{a(e.data)})).catch((e=>{}))},S=()=>{p.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{u(e.data)})).catch((e=>{}))},C=()=>{p.a.get("".concat(g,"application-codesets/v2/PREP_RISK_TYPE"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{h(e.data)})).catch((e=>{}))},I=()=>{p.a.get("".concat(g,"prep/eligibility/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{f(e.data)})).catch((e=>{}))},R=t=>{p.a.get("".concat(g,"prep/enrollment/person/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{i(e.data.find((e=>e.id===t)))})).catch((e=>{}))},T=e=>{i({...c,[e.target.name]:e.target.value})},D=t=>{t.preventDefault(),(()=>{let e={...d};return e.dateEnrolled=c.dateEnrolled?"":"This field is required",e.dateReferred=c.dateReferred?"":"This field is required",e.riskType=c.riskType?"":"This field is required",e.supporterPhone=c.supporterPhone?"":"This field is required",e.uniqueId=c.uniqueId?"":"This field is required",j({...e}),Object.values(e).every((e=>""==e))})()?(c.personId=e.patientObj.personId,c.prepEligibilityUuid=x.uuid,console.log(c),l(!0),e.activeContent&&e.activeContent.actionType?p.a.put("".concat(g,"prep-enrollment/").concat(e.activeContent.id),c,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{l(!1),e.patientObj.prepCount="1",e.PatientObject(),o.b.success("Prep Enrollment save successful!",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{l(!1),o.b.error("Something went wrong")})):p.a.post("".concat(g,"prep/enrollment"),c,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{l(!1),e.patientObj.prepCount="1",o.b.success("Prep Enrollment save successful!",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{l(!1),o.b.error("Something went wrong")}))):o.b.error("All fields are required ",{position:o.b.POSITION.BOTTOM_CENTER})};return Object(se.jsx)("div",{children:Object(se.jsx)(Je.a,{children:Object(se.jsx)(Ze.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Enrollment "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"uniqueId",children:["Unique Client's ID ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(se.jsx)(He.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:T,value:c.uniqueId,disabled:v}),""!==d.uniqueId?Object(se.jsx)("span",{className:s.error,children:d.uniqueId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(se.jsx)(He.a,{type:"text",name:"ancUniqueArtNo",id:"ancUniqueArtNo",onChange:T,value:c.ancUniqueArtNo,disabled:v}),""!==d.ancUniqueArtNo?Object(se.jsx)("span",{className:s.error,children:d.ancUniqueArtNo}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Date enrolled in PrEP ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateEnrolled",id:"dateEnrolled",value:c.dateEnrolled,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},min:x&&x.visitDate?x.visitDate:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:v}),""!==d.dateEnrolled?Object(se.jsx)("span",{className:s.error,children:d.dateEnrolled}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{for:"entryPointId",children:["PrEP Risk Type ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(He.a,{type:"select",name:"riskType",id:"riskType",onChange:T,value:c.riskType,disabled:v,children:[Object(se.jsx)("option",{value:"",children:" Select"}),b.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==d.riskType?Object(se.jsx)("span",{className:s.error,children:d.riskType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"HIV Testing Point "}),Object(se.jsxs)(He.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:T,value:c.hivTestingPoint,disabled:v,children:[Object(se.jsx)("option",{value:"",children:" Select"}),t.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date of last HIV Negative test"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:c.dateOfLastHivNegativeTest,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},max:te()(new Date).format("YYYY-MM-DD"),disabled:v}),""!==d.dateOfLastHivNegativeTest?Object(se.jsx)("span",{className:s.error,children:d.dateOfLastHivNegativeTest}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsxs)(qe.a,{children:["Date Referred for PrEP ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateReferred",id:"dateReferred",value:c.dateReferred,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},min:x&&x.visitDate?x.visitDate:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:v}),""!==d.dateReferred?Object(se.jsx)("span",{className:s.error,children:d.dateReferred}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"PrEP Supporter "}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"supporterName",id:"supporterName",value:c.supporterName,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:v}),""!==d.supporterName?Object(se.jsx)("span",{className:s.error,children:d.supporterName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Relationship "}),Object(se.jsxs)(He.a,{className:"form-control",type:"select",name:"supporterRelationshipType",id:"supporterRelationshipType",value:c.supporterRelationshipType,onChange:T,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:v,children:[Object(se.jsx)("option",{value:"",children:" Select"}),m.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==d.supporterRelationshipType?Object(se.jsx)("span",{className:s.error,children:d.supporterRelationshipType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"PrEP Supporter Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"supporterPhone",id:"supporterPhone",masks:{ng:"...-...-....",at:"(....) ...-...."},value:c.supporterPhone,onChange:e=>{((e,t)=>{i({...c,[t]:e.slice(0,10)})})(e,"supporterPhone")},disabled:v}),""!==d.supporterPhone?Object(se.jsx)("span",{className:s.error,children:d.supporterPhone}):""]})})]}),n?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",hidden:v,className:s.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:D,disabled:n,children:n?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:s.button,startIcon:Object(se.jsx)(Le.a,{}),style:{backgroundColor:"#014d88"},onClick:D,disabled:n,children:n?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})})},pt=a(506),ut=a.n(pt),xt=a(1034),Ot=a(225),gt=a(1023),ft=a(1035),vt=a(1024),Nt=a.p+"static/media/fingerprintimage.73ff98ea.png",yt=a(669),St=a.n(yt),Ct=a(93),It=a.n(Ct);const Rt=Object(Pe.a)((e=>({root:{width:"100%","& .dropdown-toggle::after, .dropleft .dropdown-toggle::before, .dropright .dropdown-toggle::before, .dropup .dropdown-toggle::after":{fontFamily:"FontAwesome",border:"0",verticalAlign:"middle",marginLeft:".25em",lineHeight:"1"},"& .dropdown-menu .dropdown-item":{fontSize:"14px",color:"#014d88",padding:"0.3rem 1.5rem",fontWeight:"bold"},"& .mt-4":{marginTop:"28px !important"},"& .form-control":{color:"#992E62"},"& .form-control:focus":{color:"#014d88"},"& .sharp ":{"min-width":"35px",padding:"5px",height:"35px","min-height":"35px"}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}})));let Tt="";var Dt=function(e){const t=Rt();let a=Object(n.g)();a.location&&a.location.state&&a.location.state.permissions;const[c,i]=Object(r.useState)([]),[l,d]=Object(r.useState)({biometricType:"FINGERPRINT",patientId:e.patientId,templateType:"",device:""}),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)([]),[u,x]=s.a.useState(!1),[v,N]=Object(r.useState)(!1),[y,S]=s.a.useState(!1),[C,I]=s.a.useState(!1),[R,T]=s.a.useState(!1),[D,P]=Object(r.useState)({}),[w,A]=Object(r.useState)([]),[E,k]=Object(r.useState)([]),[B,Y]=Object(r.useState)([]),z=(R&&(Ot.a[500],Ot.a[700]),async()=>{const t=await p.a.get("".concat(g,"application-codesets/v2/BIOMETRIC_CAPTURE_FINGERS"),{headers:{Authorization:"Bearer ".concat(O)}});p.a.get("".concat(g,"biometrics/person/").concat(e.patientId),{headers:{Authorization:"Bearer ".concat(O)}}).then((async e=>{if(e.data.length>0){A(e.data),N(!0);let a=It.a.uniq(It.a.map(e.data,"templateType"));Y(a);let r=It.a.map(t.data,(e=>It.a.extend({},e,{captured:a.includes(e.display)})));b(r)}else{let e=It.a.map(t.data,(e=>It.a.extend({},e,{captured:!1})));b(e)}})).catch((async e=>{console.log("getPersonBiometrics error"),console.log(e);let a=It.a.map(t.data,(e=>It.a.extend({},e,{captured:!1})));b(a),N(!0)}))}),q=()=>{p.a.post("".concat(g,"biometrics/store-list/").concat(e.patientId),e.patientId,{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{console.log("cleared store")})).catch((e=>{console.log("cleared store error"),console.log(e)}))};Object(r.useEffect)((()=>{q(),z(),H()}),[]);const H=()=>{p.a.get("".concat(g,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{!0===e.data&&p.a.get("".concat(g,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{m(e.data),i(e.data)})).catch((e=>{console.log(e)}))})).catch((e=>{}))};return Object(se.jsx)("div",{className:t.root,children:Object(se.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(se.jsx)("div",{className:"",style:{padding:"5px",flex:"7",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",minHeight:"400px"},children:v&&w.length>0?Object(se.jsx)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:w.map(((t,a)=>Object(se.jsx)("div",{style:{minHeight:"120px",padding:"5px",width:"20%"},children:Object(se.jsxs)("div",{className:"card ",style:{borderRadius:"6px"},children:[Object(se.jsxs)("div",{className:"card-header align-items-start",style:{backgroundColor:"#fff"},children:[Object(se.jsxs)("div",{children:[Object(se.jsx)("h6",{className:"fs-18 font-w500 mb-3 user-name",children:Object(se.jsx)(f.b,{to:"#",style:{color:"#014d88",fontSize:"14px",fontFamily:'"poppins",sans-serif'},children:t.templateType})}),Object(se.jsxs)("div",{className:"fs-9 text-nowrap",style:{fontSize:"10px",color:"#992E62",fontWeight:"bold",fontFamily:'"poppins",sans-serif'},children:[Object(se.jsx)("i",{className:"fa fa-calendar-o me-3","aria-hidden":"true"}),te()(t.lastModifiedDate).format("YYYY-MM-DD HH:mm")]})]}),Object(se.jsxs)(ye.a,{className:"dropdown ms-auto",children:[Object(se.jsx)(ye.a.Toggle,{as:"button",variant:"",drop:"up",className:"btn sharp btn-primary ",id:"tp-btn",style:{backgroundColor:"#014d88",borderColor:"#014d88",borderRadius:"5px",marginRight:"-18px",marginTop:"-10px"},children:Object(se.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(se.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(se.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(se.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"5",r:"2"}),Object(se.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"19",r:"2"})]})})}),Object(se.jsx)(ye.a.Menu,{alignRight:!0,className:"dropdown-menu-right",children:Object(se.jsxs)(ye.a.Item,{style:{color:"red"},onClick:()=>{return a=t.id,r=t.templateType,void p.a.delete("".concat(g,"biometrics/").concat(a),{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{o.b.success("".concat(r," deleted successfully")),It.a.find(j,{display:r}).captured=!1,b([...j]);let a=It.a.reject(w,{templateType:r});A(a),q(),0===a.length&&e.updatePatientBiometricStatus(!1)})).catch((e=>{o.b.error("Something went wrong"),console.log(e)}));var a,r},children:[Object(se.jsx)(St.a,{})," Delete"]})})]})]}),Object(se.jsx)("div",{className:"card-body p-0 pb-2",children:Object(se.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(se.jsx)("li",{className:"list-group-item",style:{height:"100px",display:"flex",justifyContent:"center"},children:Object(se.jsx)("img",{src:Nt,alt:"",style:{height:"80px"}})}),Object(se.jsxs)("li",{className:"list-group-item",children:[Object(se.jsx)(gt.a,{variant:"info badge-xs light",className:"card-link float-end",children:"Version "}),Object(se.jsxs)("span",{className:"mb-0 title",children:["Status ",t.iso]})," :",Object(se.jsx)("span",{className:"text-black desc-text ms-2",children:Object(se.jsxs)(gt.a,{variant:!0===t.iso?"primary badge-xs":"danger badge-xs",children:[Object(se.jsx)("i",{className:"fa fa-check-square me-2 scale4","aria-hidden":"true"})," "]})})]})]})})]})},a)))}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"flex-grow-8",children:Object(se.jsx)("div",{className:"flex-grow-8",children:Object(se.jsx)(ft.a,{severity:"info",children:Object(se.jsx)(vt.a,{style:{height:"400px"},children:Object(se.jsx)("strong",{children:"No biometrics captured"})})})})})})}),Object(se.jsx)("div",{style:{flex:"3",padding:"5px",marginLeft:"5px",border:"1px solid rgba(99, 99, 99, 0.2)",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(se.jsxs)("div",{className:"col-12",children:[Object(se.jsx)(o.a,{}),Object(se.jsx)(Oe.a,{md:12,children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Device "}),Object(se.jsxs)(He.a,{type:"select",name:"device",id:"device",onChange:e=>{const t=e.target.value,a=c.find((e=>e.name===t));Tt=null===a.url?g:a.url,d({...l,device:t}),p.a.get("".concat(Tt,"biometrics/secugen/boot?reader=").concat(t),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{"ERROR"===e.data.errorType?o.b.error(e.data.errorName+" is not plug"):S(!0)})).catch((e=>{}))},value:l.device,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Device "}),c.map((e=>{let{id:t,name:a}=e;return Object(se.jsx)("option",{value:a,children:a},t)}))]}),""!==D.device?Object(se.jsx)("span",{className:t.error,children:D.device}):""]})}),y?Object(se.jsxs)("div",{className:"row col-12",children:[Object(se.jsx)(Oe.a,{md:6,children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Finger"}),Object(se.jsxs)(He.a,{type:"select",name:"templateType",id:"templateType",onChange:e=>{d({...l,[e.target.name]:e.target.value})},value:l.templateType,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Finger "}),It.a.filter(j,["captured",!1]).map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==D.templateType?Object(se.jsx)("span",{className:t.error,children:D.templateType}):""]})}),Object(se.jsx)(Oe.a,{md:6,children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",onClick:e=>{e.preventDefault(),(()=>{let e={...D};return e.templateType=l.templateType?"":"This field is required",e.device=l.device?"":"This field is required",P({...e}),Object.values(e).every((e=>""===e))})()&&p.a.post("".concat(Tt,"biometrics/secugen/enrollment?reader=SG_DEV_AUTO"),l,{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{if(x(!0),"ERROR"===e.data.type)x(!1),I(!0),window.setTimeout((()=>{I(!1)}),5e3),o.b.error(e.data.message.ERROR);else{const t=e.data.templateType;I(!1),T(!0),window.setTimeout((()=>{T(!1),x(!1)}),5e3);let a=e.data;a.capturedBiometricsList=It.a.uniqBy(a.capturedBiometricsList,"templateType"),k([...E,a]),It.a.find(j,{display:t}).captured=!0,b([...j]),d({...l,templateType:""})}})).catch((e=>{}))},className:"mt-4",style:{backgroundColor:"#992E62"},startIcon:Object(se.jsx)(ut.a,{}),children:"Capture Finger"})}),Object(se.jsx)("br",{})]}):"",Object(se.jsx)(xe.a,{children:E.length>=1?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Oe.a,{md:12,style:{marginTop:"10px",paddingBottom:"20px"},children:Object(se.jsx)(xt.a,{celled:!0,horizontal:!0,children:E.map((e=>Object(se.jsxs)(xt.a.Item,{style:{width:"200px",height:"200px",border:"1px dotted #014d88",margin:"5px"},children:[Object(se.jsxs)(xt.a.Header,{style:{paddingLeft:"0px",height:"0.5rem",display:"flex",justifyContent:"right",alignItems:"right"},children:[Object(se.jsx)(Ae.a,{name:"cancel",color:"red"})," "]}),Object(se.jsxs)(xt.a.Content,{style:{width:"200px",height:"160px",display:"flex",justifyContent:"center",alignItems:"center"},children:[" ",Object(se.jsx)(ut.a,{style:{color:"#992E62",fontSize:150}})]}),Object(se.jsx)(xt.a.Content,{style:{width:"200px",height:"30px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"18px",color:"#014d88",fontWeight:"bold",fontFamily:'"poppins", sans-serif'},children:e.templateType})]})))})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(Oe.a,{md:12,children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",onClick:t=>{if(t.preventDefault(),E.length>=1){const t=E[E.length-1];t.capturedBiometricsList=It.a.uniqBy(t.capturedBiometricsList,"templateType"),p.a.post("".concat(g,"biometrics/templates"),t,{headers:{Authorization:"Bearer ".concat(O)}}).then((t=>{o.b.success("Biometric save successful"),k([]),z(),e.patientObj.biometricStatus=!0,e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{o.b.error("Something went wrong saving biometrics"),console.log(e)}))}else o.b.error("You can't save less than 2 finger")},startIcon:Object(se.jsx)(Le.a,{}),children:"Save Capture"})})]}):""})]})})]})})};var Pt=Object(de.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(n.g)();const[a,s]=Object(r.useState)(""),[c,i]=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:o}=e,l=t.location&&t.location.state?t.location.state.patientObj:{},d=t.location&&t.location.state?t.location.state.prepId:{};async function j(){p.a.get("".concat(g,"prep/persons/").concat(l.personId),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{s(e.data)})).catch((e=>{}))}return Object(r.useEffect)((()=>{j()}),[]),Object(se.jsxs)("div",{className:o.root,children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(f.b,{to:"/",children:"MHPSS /"})," Patient Dashboard"]})})})}),Object(se.jsx)(je.a,{children:Object(se.jsxs)(be.a,{children:[Object(se.jsx)(fe,{patientObj:a,setActiveContent:i,patientDetail:a}),Object(se.jsx)(Ne,{patientObj:l,setActiveContent:i,patientDetail:a}),Object(se.jsx)("br",{}),"recent-history"===c.route&&Object(se.jsx)(De,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d}),"biometrics"===c.route&&Object(se.jsx)(Dt,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d}),"consultation"===c.route&&Object(se.jsx)(Xe,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d}),"prep-commencement"===c.route&&Object(se.jsx)(et,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d,PatientObject:j}),"prep-interruptions"===c.route&&Object(se.jsx)(st,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d,PatientObject:j}),"prep-screening"===c.route&&Object(se.jsx)(ot,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d,patientDetail:a,PatientObject:j}),"prep-visit"===c.route&&Object(se.jsx)(dt,{PatientObject:j}),"prep-registration"===c.route&&Object(se.jsx)(mt,{patientObj:l,setActiveContent:i,activeContent:c,prepId:d,PatientObject:j}),"patient-history"===c.route&&Object(se.jsx)(ke,{patientObj:l,setActiveContent:i,activeContent:c})]})})]})})),wt=a(1028),At=a(154),Et=a(125),kt=a(92),Bt=a(1006),Yt=a(264),zt=a.n(Yt);a(489);Et.b.add(kt.a,kt.b,kt.c,kt.d);const qt=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var Ht=e=>{const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",sexId:"",ninNumber:""}),[c,i]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[l,d]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)(!1),[u,x]=Object(r.useState)(!1),[v,N]=Object(r.useState)(!0),[y,S]=Object(r.useState)(!1),[C,I]=Object(r.useState)(null),[R,T]=Object(r.useState)([]),[D,P]=Object(r.useState)([]),[w,A]=Object(r.useState)([]),[E,k]=Object(r.useState)([]),[B,Y]=Object(r.useState)([]),[z,q]=Object(r.useState)([]),[H,_]=Object(r.useState)([]),[M,F]=Object(r.useState)([]),[L,W]=Object(r.useState)({}),[U,V]=Object(r.useState)([]),G=e.location&&e.location.state?e.location.state.user:null,K=qt(),X=Object(n.g)(),J=Object(n.h)(),[Q,$]=Object(r.useState)(!1),[te,ae]=Object(r.useState)({dateEnrolled:"",dateOfLastHivNegativeTest:"",dateReferredForPrep:"",extra:{},hivTestingPoint:"",prepRiskType:"",personDto:{},personId:0,prepSupporter:"",uniqueClientId:"",ancUnique:""}),[re,ce]=Object(r.useState)([]),[ie,ne]=Object(r.useState)([]),[oe,le]=Object(r.useState)([]),[de,je]=Object(r.useState)([]),[be,he]=Object(r.useState)([]),[me,ue]=Object(r.useState)([]),[xe,Oe]=Object(r.useState)([]),[ge,fe]=Object(r.useState)(!1),[ve,Ne]=Object(r.useState)(!1),[ye,Se]=Object(r.useState)(!1),[Ce,Ie]=s.a.useState(!1),Te=()=>Ie(!Ce),De=J.state;let Pe=null;Pe=De?De.patientId:null,Object(r.useEffect)((()=>{we(),Ae(),Ee(),ke(),Be(),Ye(),Ge(),Ke(),Xe(),Je(),Ze(),$e(),et(),_e(),t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[t.dateOfRegistration]);const we=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}});T(e.data)}catch(e){}}),[]),Ae=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}});P(e.data)}catch(e){}}),[]),Ee=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(O)}});A(e.data)}catch(e){}}),[]),ke=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(O)}});k(e.data)}catch(e){}}),[]),Be=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}});Y(e.data)}catch(e){}}),[]),Ye=Object(r.useCallback)((async()=>{const e=await p.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}});V(e.data)}),[]),_e=()=>{p.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{q(e.data)})).catch((e=>{}))};const Me=e=>{"Actual"==e.target.value?N(!0):"Estimated"==e.target.value&&N(!1)},Fe=e=>{if(a({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"377"===e.target.value&&$(!0),"firstName"===e.target.name&&""!==e.target.value){const r=Ve(e.target.value);a({...t,[e.target.name]:r})}if("lastName"===e.target.name&&""!==e.target.value){const s=Ve(e.target.value);a({...t,[e.target.name]:s})}if("middleName"===e.target.name&&""!==e.target.value){const c=Ve(e.target.value);a({...t,[e.target.name]:c})}if("ninNumber"===e.target.name&&""!==e.target.value){const i=st(e.target.value);a({...t,[e.target.name]:i})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function n(){const t=e.target.value;!0!==(await p.a.post("".concat(g,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(O),"Content-Type":"text/plain"}})).data?(Ne(!1),L.hospitalNumber="",ae({...te,uniqueId:e.target.value}),Se(!0)):(L.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),Ne(!0),Se(!1))}n()}},We=e=>{const t=B.find((t=>t.id==e));return t?t.display:""},Ue=e=>{i({...c,[e.target.name]:e.target.value})},Ve=e=>e.replace(/[^a-z]/gi,""),Ge=()=>{p.a.get("".concat(g,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ce(e.data)})).catch((e=>{}))},Ke=()=>{p.a.get("".concat(g,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ne(e.data)})).catch((e=>{}))},Xe=()=>{p.a.get("".concat(g,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{le(e.data)})).catch((e=>{}))},Je=()=>{p.a.get("".concat(g,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{je(e.data)})).catch((e=>{}))},Ze=()=>{p.a.get("".concat(g,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{he(e.data)})).catch((e=>{}))},$e=()=>{p.a.get("".concat(g,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ue(e.data)})).catch((e=>{}))},et=()=>{p.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{Oe(e.data)})).catch((e=>{}))},tt=e=>{W({...L,[e.target.name]:""}),ae({...te,[e.target.name]:e.target.value})},rt=(e,r)=>{a({...t,[r]:e.slice(0,10)})},st=e=>e.slice(0,11);return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(f.b,{to:"/",children:"Prep /"})," Patient Registration"]})})})}),Object(se.jsx)(f.b,{to:{pathname:"/",state:"users"},children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(se.jsx)(pe.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(ct.a,{className:K.root,children:Object(se.jsx)(Bt.a,{children:Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)(wt.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===G?"Basic Information":"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:ee(new Date).format("YYYY-MM-DD"),value:t.dateOfRegistration,onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfRegistration?Object(se.jsx)("span",{className:K.error,children:L.dateOfRegistration}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.hospitalNumber?Object(se.jsx)("span",{className:K.error,children:L.hospitalNumber}):"",!0===ve?Object(se.jsx)("span",{className:K.error,children:"Hospital number already exist"}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.firstName?Object(se.jsx)("span",{className:K.error,children:L.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Middle Name"}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.lastName?Object(se.jsx)("span",{className:K.error,children:L.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Fe,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),R.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.sexId?Object(se.jsx)("span",{className:K.error,children:L.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Me(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Me(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date "}),Object(se.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:t.dateOfRegistration,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();c<18?(alert("The child is less than 18months"),x(!0)):x(!1),(c<0||0===c&&a.getDate()<r.getDate())&&s--,t.age=s}else a({...t,age:""});a({...t,dob:e.target.value}),""!==t.age&&t.age>=60&&Te()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Age"}),Object(se.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"1",value:t.age,disabled:v,onChange:e=>{if(!v&&e.target.value){""!==e.target.value&&e.target.value>=60&&Te(),e.target.value<=1?x(!0):x(!1);const a=new Date;a.setDate(15),a.setMonth(5);const r=ee(a.toISOString()).add(-1*e.target.value,"years");t.dob=ee(r).format("YYYY-MM-DD")}a({...t,age:Math.abs(e.target.value)})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Fe,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Fe,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.employmentStatusId?Object(se.jsx)("span",{className:K.error,children:L.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Fe,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),w.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.educationId?Object(se.jsx)("span",{className:K.error,children:L.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:t.ninNumber,id:"ninNumber",onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Phone Number *"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:t.phoneNumber,onChange:e=>{rt(e,"phoneNumber")}}),""!==L.phoneNumber?Object(se.jsx)("span",{className:K.error,children:L.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Alt. Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:e=>{rt(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Fe,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;console.log(r),function(e){p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{console.log(e.data),_(e.data)})).catch((e=>{}))}(r),a({...t,countryId:r})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),z.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.countryId?Object(se.jsx)("span",{className:K.error,children:L.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;a({...t,stateId:e.target.value}),p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{F(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),H.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.stateId?Object(se.jsx)("span",{className:K.error,children:L.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Fe,children:[Object(se.jsx)("option",{value:"",children:"Select"}),M.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.district?Object(se.jsx)("span",{className:K.error,children:L.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.address?Object(se.jsx)("span",{className:K.error,children:L.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",onChange:Fe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[j&&j.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:j.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:We(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{i(e),S(!0),j.splice(t,1)})(e,t),children:Object(se.jsx)(At.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{j.splice(e,1),b([...j])})(t),children:Object(se.jsx)(At.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:y&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:c.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ue,children:[Object(se.jsx)("option",{value:"",children:"Select"}),B.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.relationshipId?Object(se.jsx)("span",{className:K.error,children:L.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:c.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ue}),""!==L.firstName?Object(se.jsx)("span",{className:K.error,children:L.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:c.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ue})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:c.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ue}),""!==L.lastName?Object(se.jsx)("span",{className:K.error,children:L.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:c.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:e=>{((e,t)=>{i({...c,[t]:e.slice(0,10)})})(e,"phone")}}),""!==L.phone?Object(se.jsx)("span",{className:K.error,children:L.phone}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:c.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ue,required:!0})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:c.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ue})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:K.button,onClick:e=>{(()=>{let e={...L};return e.firstName=c.firstName?"":"First Name is required",e.lastName=c.lastName?"":"Last Name  is required.",e.phone=c.phone?"":"Phone Number  is required.",e.relationshipId=c.relationshipId?"":"Relationship Type is required.",W({...e}),Object.values(e).every((e=>""==e))})()&&(b([...j,c]),i({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:K.button,onClick:()=>{S(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:K.button,startIcon:Object(se.jsx)(zt.a,{}),onClick:()=>{S(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Prep  Enrollment"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Registration "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Unique Client's ID  * "}),Object(se.jsx)(He.a,{type:"text",name:"uniqueClientId",id:"uniqueClientId",onChange:tt,value:te.uniqueClientId,required:!0}),""!==L.uniqueClientId?Object(se.jsx)("span",{className:K.error,children:L.uniqueClientId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(se.jsx)(He.a,{type:"text",name:"ancUnique",id:"ancUnique",onChange:tt,value:te.ancUnique,required:!0}),""!==L.ancUnique?Object(se.jsx)("span",{className:K.error,children:L.ancUnique}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date enrolled in PrEP *"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateEnrolled",id:"dateEnrolled",value:te.dateEnrolled,onChange:tt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateEnrolled?Object(se.jsx)("span",{className:K.error,children:L.dateEnrolled}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"entryPointId",children:"PrEP Risk Type*"}),Object(se.jsxs)(He.a,{type:"select",name:"prepRiskType",id:"prepRiskType",onChange:tt,value:te.prepRiskType,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),re.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==L.prepRiskType?Object(se.jsx)("span",{className:K.error,children:L.prepRiskType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"HIV Testing Point "}),Object(se.jsxs)(He.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:tt,value:te.hivTestingPoint,required:!0,children:[Object(se.jsx)("option",{value:"Select",children:" "}),oe.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==L.hivTestingPoint?Object(se.jsx)("span",{className:K.error,children:L.hivTestingPoint}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date of last HIV Negative test*"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:te.dateOfLastHivNegativeTest,onChange:tt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfLastHivNegativeTest?Object(se.jsx)("span",{className:K.error,children:L.dateOfLastHivNegativeTest}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Referred for PrEP * "}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateReferredForPrep",id:"dateReferredForPrep",value:te.dateReferredForPrep,onChange:tt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateReferredForPrep?Object(se.jsx)("span",{className:K.error,children:L.dateReferredForPrep}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"PrEP Supporter "}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"prepSupporter",id:"prepSupporter",value:te.prepSupporter,onChange:tt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.prepSupporter?Object(se.jsx)("span",{className:K.error,children:L.prepSupporter}):""]})})]})})]}),h?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:K.button,startIcon:Object(se.jsx)(Le.a,{}),onClick:async e=>{if(e.preventDefault(),(()=>{let e={...L};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Gender is required.",e.dateOfRegistration=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.uniqueClientId=te.uniqueClientId?"":"Unique ID is required.",e.dateEnrolled=te.dateEnrolled?"":"Date enrolled is required.",e.dateOfLastHivNegativeTest=te.dateOfLastHivNegativeTest?"":"date of last HIV test is required.",e.dateReferredForPrep=te.dateReferredForPrep?"":"Date referred is required.",e.hivTestingPoint=te.hivTestingPoint?"":"Hiv test point is required.",e.prepRiskType=te.prepRiskType?"":"PrEp risk type is required.",e.prepSupporter=te.prepSupporter?"":"PrEp supporter is required.",W({...e}),Object.values(e).every((e=>""==e))})()){let e=[];j&&j.length>0&&j.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));try{const a={active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:e,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.sexId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},r={type:"phone",value:t.phoneNumber};if(t.email){const e={type:"email",value:t.email};a.contactPoint.push(e)}if(t.altPhonenumber){const e={type:"altphone",value:t.altPhonenumber};a.contactPoint.push(e)}a.contactPoint.push(r),a.id=Pe,te.personDto=a,te.personId=Pe;await p.a.post("".concat(g,"prep"),te,{headers:{Authorization:"Bearer ".concat(O)}});o.b.success("Registeration save successful"),X.push("/")}catch(a){if(a.response&&a.response.data){let e=a.response.data&&""!==a.response.data.apierror.message?a.response.data.apierror.message:"Something went wrong, please try again";o.b.error(e)}}}},disabled:u,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:h?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(Z.a,{variant:"contained",className:K.button,startIcon:Object(se.jsx)(at.a,{}),style:{backgroundColor:"#992E62"},onClick:()=>{X.push({pathname:"/"})},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(se.jsxs)(Re.a,{show:Ce,toggle:Te,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Re.a.Header,{children:Object(se.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Re.a.Body,{children:Object(se.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(se.jsx)(Re.a.Footer,{children:Object(se.jsx)(Z.a,{onClick:Te,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};a(659),a(654),a(653);Et.b.add(kt.a,kt.b,kt.c,kt.d);const _t=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Mt=e=>{const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[c,i]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[l,d]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)(!1),[u,x]=Object(r.useState)(!1),[v,N]=Object(r.useState)(!0),[y,S]=Object(r.useState)(!1),[C,I]=Object(r.useState)(null),[R,T]=Object(r.useState)([]),[D,P]=Object(r.useState)([]),[w,A]=Object(r.useState)([]),[E,k]=Object(r.useState)([]),[B,Y]=Object(r.useState)([]),[z,q]=Object(r.useState)([]),[H,_]=Object(r.useState)([]),[M,F]=Object(r.useState)([]),[L,W]=Object(r.useState)({}),[U,V]=Object(r.useState)([]),[G,K]=Object(r.useState)({person:"",hivEnrollment:""}),X=e.location&&e.location.state?e.location.state.user:null,J=_t(),Q=Object(n.g)(),$=Object(n.h)(),[te,ae]=Object(r.useState)(!1),[re,ce]=Object(r.useState)({dateEnrolled:"",dateOfLastHivNegativeTest:"",dateReferredForPrep:"",extra:{},hivTestingPoint:"",prepRiskType:"",personDto:{},personId:0,prepSupporter:"",uniqueClientId:"",ancUnique:""}),[ie,ne]=Object(r.useState)([]),[oe,le]=Object(r.useState)([]),[de,je]=Object(r.useState)([]),[be,he]=Object(r.useState)([]),[me,ue]=Object(r.useState)([]),[xe,Oe]=Object(r.useState)([]),[ge,fe]=Object(r.useState)([]),[ve,Ne]=Object(r.useState)([]),[ye,Se]=Object(r.useState)(!1),[Ce,Ie]=Object(r.useState)(!1),[Te,De]=Object(r.useState)("false"),[Pe,we]=s.a.useState(!1),Ae=()=>we(!Pe),Ee=$.state;let ke=null,Be={};ke=Ee?Ee.patientId:null,Be=Ee?Ee.patientObj:{},Object(r.useEffect)((()=>{if(_e(),Ye(),Me(),Fe(),We(),Ue(),Ve(),st(),it(),nt(),ot(),lt(),dt(),jt(),Ge(),Be){const a=Be&&Be.contact?Be.contact:[];let r=[];a.contact&&a.contact.length>0&&a.contact.map((e=>{const t={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};r.push(t)}));b(r);const s=Be.identifier,c=Be.address,i=Be.contactPoint,n=s.identifier.find((e=>"HospitalNumber"===e.type)),o=i.contactPoint.find((e=>"phone"===e.type)),l=i.contactPoint.find((e=>"email"===e.type)),d=i.contactPoint.find((e=>"altphone"===e.type)),j=c&&c.address&&c.address.length>0?c.address[0]:null;t.dob=Be.dateOfBirth,t.firstName=Be.firstName,t.dateOfRegistration=Be.dateOfRegistration,t.middleName=Be.otherName,t.lastName=Be.surname,t.hospitalNumber=n&&n?n.value:"",ce({...re,uniqueId:n?n.value:""}),t.maritalStatusId=Be&&Be.maritalStatus?Be.maritalStatus.id:"",t.employmentStatusId=Be&&Be.employmentStatus?Be.employmentStatus.id:"",t.genderId=Be&&Be.gender?Be.gender.id:null,t.educationId=Be&&Be.education?Be.education.id:"",t.phoneNumber=o&&o.value?o.value:"",t.altPhonenumber=d&&d.value?d.value:"",t.email=l&&l.value?l.value:"",t.address=j&&j.city?j.city:"",t.landmark=j.line&&j.line.length>0?j.line[0]:"",t.countryId=j&&j.countryId?j.countryId:"",Ke(j.countryId),e=j&&j.stateId?j.stateId:"",p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{F(e.data)})).catch((e=>{})),t.stateId=j&&j.stateId?j.stateId:"",t.district=j&&j.district?j.district:"";const h=Xe(ee(Be.dateOfBirth).format("DD-MM-YYYY"));t.age=h,ae("Female"===Be.sex),Be.age<=14&&Ie(!0),t.ninNumber=Be.ninNumber}var e;t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[Be,ke,t.dateOfRegistration]);const Ye=()=>{p.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{const a=e.data.find((e=>e.display===Be.sex));t.sexId=a.display})).catch((e=>{}))},_e=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}});T(e.data)}catch(e){}}),[]),Me=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}});P(e.data)}catch(e){}}),[]),Fe=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(O)}});A(e.data)}catch(e){}}),[]),We=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(O)}});k(e.data)}catch(e){}}),[]),Ue=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}});Y(e.data)}catch(e){}}),[]),Ve=Object(r.useCallback)((async()=>{const e=await p.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}});V(e.data)}),[]),Ge=()=>{p.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{q(e.data)})).catch((e=>{}))};function Ke(e){p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{_(e.data)})).catch((e=>{}))}const Xe=e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&c--,0===c?i+" month(s)":c};const Je=e=>{"Actual"==e.target.value?N(!0):"Estimated"==e.target.value&&N(!1)},Ze=e=>{if(W({...L,[e.target.name]:""}),a({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"Female"===e.target.value&&ae(!0),"firstName"===e.target.name&&""!==e.target.value){const r=rt(e.target.value);a({...t,[e.target.name]:r})}if("lastName"===e.target.name&&""!==e.target.value){const r=rt(e.target.value);a({...t,[e.target.name]:r})}if("middleName"===e.target.name&&""!==e.target.value){const r=rt(e.target.value);a({...t,[e.target.name]:r})}if("ninNumber"===e.target.name&&""!==e.target.value){const r=$e(e.target.value);a({...t,[e.target.name]:r})}},$e=e=>e.slice(0,11),et=e=>{const t=B.find((t=>t.id==e));return t?t.display:""},tt=e=>{i({...c,[e.target.name]:e.target.value})},rt=e=>e.replace(/[^a-z]/gi,""),st=()=>{p.a.get("".concat(g,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ne(e.data)})).catch((e=>{}))},it=()=>{p.a.get("".concat(g,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{le(e.data)})).catch((e=>{}))},nt=()=>{p.a.get("".concat(g,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{je(e.data)})).catch((e=>{}))},ot=()=>{p.a.get("".concat(g,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{he(e.data)})).catch((e=>{}))},lt=()=>{p.a.get("".concat(g,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ue(e.data)})).catch((e=>{}))},dt=()=>{p.a.get("".concat(g,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{Oe(e.data)})).catch((e=>{}))},jt=()=>{p.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{Ne(e.data)})).catch((e=>{}))},ht=e=>{W({...L,[e.target.name]:""}),ce({...re,[e.target.name]:e.target.value})},mt=(e,r)=>{W({...L,[r]:""}),a({...t,[r]:e.slice(0,10)})};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(f.b,{to:"/",children:"PrEP /"})," Registration"]})})})}),Object(se.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)(ct.a,{className:J.root,children:Object(se.jsxs)(Bt.a,{children:[Object(se.jsx)(f.b,{to:{pathname:"/",state:"users"},children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(se.jsx)(pe.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)(wt.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===X?"Basic Information":"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfRegistration",min:"1983-12-31",max:ee(new Date).format("YYYY-MM-DD"),id:"dateOfRegistration",value:t.dateOfRegistration,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfRegistration1?Object(se.jsx)("span",{className:J.error,children:L.dateOfRegistration1}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.hospitalNumber?Object(se.jsx)("span",{className:J.error,children:L.hospitalNumber}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.firstName?Object(se.jsx)("span",{className:J.error,children:L.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Middle Name"}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.lastName?Object(se.jsx)("span",{className:J.error,children:L.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Ze,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),R.map(((e,t)=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==L.sexId||null!==L.sexId?Object(se.jsx)("span",{className:J.error,children:L.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Je(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Je(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date"}),Object(se.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:"1940-01-01",max:t.dateOfRegistration,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();c<18?(alert("The child is less than 18months"),x(!0)):x(!1),(c<0||0===c&&a.getDate()<r.getDate())&&s--,t.age=s}else a({...t,age:""});a({...t,dob:e.target.value}),""!==t.age&&t.age>=60&&Ae()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Age"}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:t.age,disabled:v,onChange:e=>{if(!v&&e.target.value){""!==e.target.value&&e.target.value>=60&&Ae(),e.target.value<=1?x(!0):x(!1);const a=new Date;a.setDate(15),a.setMonth(5);const r=ee(a.toISOString()).add(-1*e.target.value,"years");t.dob=ee(r).format("YYYY-MM-DD")}a({...t,age:Math.abs(e.target.value)})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Ze,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Ze,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.employmentStatusId?Object(se.jsx)("span",{className:J.error,children:L.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Ze,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),w.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.educationId?Object(se.jsx)("span",{className:J.error,children:L.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",id:"ninNumber",value:t.ninNumber,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Phone Number *"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:e=>{mt(e,"phoneNumber")}}),""!==L.phoneNumber||null!==L.phoneNumber?Object(se.jsx)("span",{className:J.error,children:L.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Alt. Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,onChange:e=>{mt(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Ze,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;Ke(r),a({...t,countryId:r})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),z.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.countryId?Object(se.jsx)("span",{className:J.error,children:L.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;W({...L,[e.target.name]:""}),a({...t,stateId:e.target.value}),p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{F(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),H.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.stateId?Object(se.jsx)("span",{className:J.error,children:L.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ze,children:[Object(se.jsx)("option",{value:"",children:"Select"}),M.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==L.district?Object(se.jsx)("span",{className:J.error,children:L.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:t.address,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.address?Object(se.jsx)("span",{className:J.error,children:L.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:t.landmark,onChange:Ze,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[j&&j.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:j.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:et(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{i(e),S(!0),j.splice(t,1)})(e,t),children:Object(se.jsx)(At.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{j.splice(e,1),b([...j])})(t),children:Object(se.jsx)(At.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:y&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:c.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:tt,children:[Object(se.jsx)("option",{value:"",children:"Select"}),B.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==L.relationshipId?Object(se.jsx)("span",{className:J.error,children:L.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:c.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:tt}),""!==L.firstName?Object(se.jsx)("span",{className:J.error,children:L.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:c.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:tt})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:c.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:tt}),""!==L.lastName?Object(se.jsx)("span",{className:J.error,children:L.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:c.phone,id:"phone",onChange:e=>{((e,t)=>{i({...c,[t]:e.slice(0,10)})})(e.slice(0,10),"phone")}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:c.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:tt})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:c.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:tt})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:J.button,onClick:e=>{(()=>{let e={...L};return e.firstName=c.firstName?"":"First Name is required",e.lastName=c.lastName?"":"Last Name  is required.",e.relationshipId=c.relationshipId?"":"Relationship Type is required.",W({...e}),Object.values(e).every((e=>""==e))})()&&b([...j,c])},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:J.button,onClick:()=>{S(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:J.button,startIcon:Object(se.jsx)(zt.a,{}),onClick:()=>{S(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Prep  Enrollment"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Registration "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Unique Client's ID  * "}),Object(se.jsx)(He.a,{type:"text",name:"uniqueClientId",id:"uniqueClientId",onChange:ht,value:re.uniqueClientId,required:!0}),""!==L.uniqueClientId?Object(se.jsx)("span",{className:J.error,children:L.uniqueClientId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(se.jsx)(He.a,{type:"text",name:"ancUnique",id:"ancUnique",onChange:ht,value:re.ancUnique,required:!0}),""!==L.ancUnique?Object(se.jsx)("span",{className:J.error,children:L.ancUnique}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date enrolled in PrEP *"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateEnrolled",id:"dateEnrolled",value:re.dateEnrolled,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateEnrolled?Object(se.jsx)("span",{className:J.error,children:L.dateEnrolled}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"entryPointId",children:"PrEP Risk Type*"}),Object(se.jsxs)(He.a,{type:"select",name:"prepRiskType",id:"prepRiskType",onChange:ht,value:re.prepRiskType,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),ie.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==L.prepRiskType?Object(se.jsx)("span",{className:J.error,children:L.prepRiskType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"HIV Testing Point "}),Object(se.jsxs)(He.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:ht,value:re.hivTestingPoint,required:!0,children:[Object(se.jsx)("option",{value:"Select",children:" "}),de.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==L.hivTestingPoint?Object(se.jsx)("span",{className:J.error,children:L.hivTestingPoint}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date of last HIV Negative test*"}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:re.dateOfLastHivNegativeTest,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateOfLastHivNegativeTest?Object(se.jsx)("span",{className:J.error,children:L.dateOfLastHivNegativeTest}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Referred for PrEP * "}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateReferredForPrep",id:"dateReferredForPrep",value:re.dateReferredForPrep,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.dateReferredForPrep?Object(se.jsx)("span",{className:J.error,children:L.dateReferredForPrep}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"PrEP Supporter "}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"prepSupporter",id:"prepSupporter",value:re.prepSupporter,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==L.prepSupporter?Object(se.jsx)("span",{className:J.error,children:L.prepSupporter}):""]})})]})})]}),h?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:J.button,startIcon:Object(se.jsx)(Le.a,{}),disabled:u,onClick:async e=>{e.preventDefault();const a=R.find((e=>e.display===t.sexId));t.sexId=a&&a.id?a.id:"";let r=[];j&&j.length>0&&j.map((e=>{const t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};r.push(t)}));if((()=>{let e={...L};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Sex is required.",e.dateOfRegistration1=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.uniqueClientId=re.uniqueClientId?"":"Unique ID is required.",e.dateEnrolled=re.dateEnrolled?"":"Date enrolled is required.",e.dateOfLastHivNegativeTest=re.dateOfLastHivNegativeTest?"":"date of last HIV test is required.",e.dateReferredForPrep=re.dateReferredForPrep?"":"Date referred is required.",e.hivTestingPoint=re.hivTestingPoint?"":"Hiv test point is required.",e.prepRiskType=re.prepRiskType?"":"PrEp risk type is required.",e.prepSupporter=re.prepSupporter?"":"PrEp supporter is required.",W({...e}),Object.values(e).every((e=>""==e))})())try{const e={id:"",active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:r,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.sexId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},a={type:"phone",value:t.phoneNumber};if(t.email){const a={type:"email",value:t.email};e.contactPoint.push(a)}if(t.altPhonenumber){const a={type:"altphone",value:t.altPhonenumber};e.contactPoint.push(a)}e.contactPoint.push(a),e.id=ke,re.personId=ke;await p.a.post("".concat(g,"prep"),re,{headers:{Authorization:"Bearer ".concat(O)}});o.b.success(" Register save successful"),Q.push("/")}catch(s){let e=s.response.data&&""!==s.response.data.apierror.message?s.response.data.apierror.message:"An error occured while registering a patient !";o.b.error(e,{position:o.b.POSITION.TOP_RIGHT})}},children:h?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(Z.a,{variant:"contained",className:J.button,startIcon:Object(se.jsx)(at.a,{}),onClick:()=>{Q.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(se.jsxs)(Re.a,{show:Pe,toggle:Ae,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Re.a.Header,{children:Object(se.jsx)(Re.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Re.a.Body,{children:Object(se.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(se.jsx)(Re.a.Footer,{children:Object(se.jsx)(Z.a,{onClick:Ae,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};Et.b.add(kt.a,kt.b,kt.c,kt.d);const Ft=Object(Pe.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Lt=e=>{console.log(e);const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[s,c]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[i,l]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)(!1),[m,u]=Object(r.useState)(!0),[x,v]=Object(r.useState)(!1),[N,y]=Object(r.useState)(null),[S,C]=Object(r.useState)([]),[I,R]=Object(r.useState)([]),[T,D]=Object(r.useState)([]),[P,w]=Object(r.useState)([]),[A,E]=Object(r.useState)([]),[k,B]=Object(r.useState)([]),[Y,z]=Object(r.useState)([]),[q,H]=Object(r.useState)([]),[_,M]=Object(r.useState)({}),[F,L]=Object(r.useState)([]),[W,U]=Object(r.useState)({person:"",hivEnrollment:""}),V=(e.location&&e.location.state&&e.location.state.user,Ft()),G=Object(n.g)(),K=Object(n.h)(),[X,J]=Object(r.useState)(!1),[Q,$]=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),[te,ae]=Object(r.useState)([]),[re,ce]=Object(r.useState)([]),[ie,ne]=Object(r.useState)([]),[oe,le]=Object(r.useState)([]),[de,je]=Object(r.useState)([]),[be,he]=Object(r.useState)([]),[me,ue]=Object(r.useState)([]),[xe,Oe]=Object(r.useState)(!1),[ge,fe]=Object(r.useState)(!1),[ve,Ne]=Object(r.useState)("false"),ye=K.state;let Se=null,Ce={};Se=ye?ye.patientId:null,Ce=ye?ye.patientObj:{};const[Ie,Re]=Object(r.useState)(!1),[Te,De]=Object(r.useState)(!1);Object(r.useEffect)((()=>{if(Pe(),we(),Ae(),Ee(),ke(),Be(),Ke(),Xe(),Je(),Ze(),$e(),et(),tt(),Ye(),Ce){const a=Ce.contact?Ce.contact:[];let r=[];a.contact&&a.contact.length>0&&a.contact.map((e=>{const t={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};r.push(t)}));j(r);const s=Ce.identifier,c=Ce.address,i=Ce.contactPoint,n=s.identifier.find((e=>"HospitalNumber"==e.type)),o=i.contactPoint.find((e=>"phone"==e.type)),l=i.contactPoint.find((e=>"email"==e.type)),d=i.contactPoint.find((e=>"altphone"==e.type)),b=c&&c.address&&c.address.length>0?c.address[0]:null;t.dob=Ce.dateOfBirth,t.firstName=Ce.firstName,t.dateOfRegistration=Ce.dateOfRegistration,t.middleName=Ce.otherName,t.lastName=Ce.surname,t.hospitalNumber=n?n.value:"",t.maritalStatusId=Ce.maritalStatus.id,t.employmentStatusId=Ce.employmentStatus.id,t.genderId=Ce.gender?Ce.gender.id:null,t.sexId=Ce.sex,t.educationId=Ce.education.id,t.phoneNumber=o&&o.value?o.value:"",t.altPhonenumber=d&&d.value?d.value:"",t.email=l&&l.value?l.value:"",t.address=b&&b.city?b.city:"",t.landmark=b.line[0],t.countryId=b.countryId,Me(b.countryId),e=b.stateId,p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{H(e.data)})).catch((e=>{})),t.stateId=b.stateId,t.district=b.district,$(Ce.enrollment);const h=_e(ee(Ce.dateOfBirth).format("DD-MM-YYYY"));t.age=h,J("Female"===Ce.sex),t.ninNumber=Ce.ninNumber}var e;t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[Ce,Se,t.dateOfRegistration]);const Pe=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(O)}});C(e.data)}catch(e){}}),[]),we=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}});R(e.data)}catch(e){}}),[]),Ae=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(O)}});D(e.data)}catch(e){}}),[]),Ee=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(O)}});w(e.data)}catch(e){}}),[]),ke=Object(r.useCallback)((async()=>{try{const e=await p.a.get("".concat(g,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(O)}});E(e.data)}catch(e){}}),[]),Be=Object(r.useCallback)((async()=>{const e=await p.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}});L(e.data)}),[]),Ye=()=>{p.a.get("".concat(g,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{B(e.data)})).catch((e=>{}))},_e=e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),c=t.getFullYear()-s.getFullYear(),i=t.getMonth()-s.getMonth();return(i<0||0===i&&t.getDate()<s.getDate())&&c--,0===c?i+" month(s)":c};function Me(e){p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{z(e.data)})).catch((e=>{}))}const Fe=e=>{"Actual"==e.target.value?u(!0):"Estimated"==e.target.value&&u(!1)},We=e=>{if(a({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"Female"===e.target.value&&J(!0),"firstName"===e.target.name&&""!==e.target.value){const r=Ge(e.target.value);a({...t,[e.target.name]:r})}if("lastName"===e.target.name&&""!==e.target.value){const s=Ge(e.target.value);a({...t,[e.target.name]:s})}if("middleName"===e.target.name&&""!==e.target.value){const c=Ge(e.target.value);a({...t,[e.target.name]:c})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function i(){const t=e.target.value;!0!==(await p.a.post("".concat(g,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(O),"Content-Type":"text/plain"}})).data?(Re(!1),$({...Q,uniqueId:e.target.value}),De(!0)):(Re(!1),De(!0))}i()}},Ue=e=>{const t=A.find((t=>t.id==e));return t?t.display:""},Ve=e=>{c({...s,[e.target.name]:e.target.value})},Ge=e=>e.replace(/[^a-z]/gi,""),Ke=()=>{p.a.get("".concat(g,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ae(e.data)})).catch((e=>{}))},Xe=()=>{p.a.get("".concat(g,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ce(e.data)})).catch((e=>{}))},Je=()=>{p.a.get("".concat(g,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ne(e.data)})).catch((e=>{}))},Ze=()=>{p.a.get("".concat(g,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{le(e.data)})).catch((e=>{}))},$e=()=>{p.a.get("".concat(g,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{je(e.data)})).catch((e=>{}))},et=()=>{p.a.get("".concat(g,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{he(e.data)})).catch((e=>{}))},tt=()=>{p.a.get("".concat(g,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{ue(e.data)})).catch((e=>{}))},rt=e=>{$({...Q,[e.target.name]:e.target.value}),"entryPointId"===e.target.name&&("21"===e.target.value?Oe(!0):Oe(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?Oe(!0):Oe(!1))},st=(e,r)=>{a({...t,[r]:e.slice(0,10)})},it=e=>{e.target.checked?fe(!0):fe(!1)};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)(ct.a,{className:V.cardBottom,children:Object(se.jsxs)(Bt.a,{children:[Object(se.jsx)(f.b,{to:{pathname:"/patient-history",state:{patientObj:Ce}},children:Object(se.jsx)(Z.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(se.jsx)(pe.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)(wt.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(He.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",value:t.dateOfRegistration,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==_.dateOfRegistration1?Object(se.jsx)("span",{className:V.error,children:_.dateOfRegistration1}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:"update"!==ye.actionType}),""!==_.hospitalNumber?Object(se.jsx)("span",{className:V.error,children:_.hospitalNumber}):"",""!==_.hospitalNumber?Object(se.jsx)("span",{className:V.error,children:_.hospitalNumber}):"",!0===Ie?Object(se.jsx)("span",{className:V.error,children:"Hospital number already exist"}):"",!0===Te?Object(se.jsx)("span",{className:V.success,children:"Hospital number is OK."}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:Math.floor(1094328*Math.random()),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==_.firstName?Object(se.jsx)("span",{className:V.error,children:_.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Middle Name"}),Object(se.jsx)(He.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==_.lastName?Object(se.jsx)("span",{className:V.error,children:_.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:We,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),S.map(((e,t)=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==_.sexId?Object(se.jsx)("span",{className:V.error,children:_.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>Fe(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>Fe(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date"}),Object(se.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:i,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const c=a.getMonth()-r.getMonth();(c<0||0===c&&a.getDate()<r.getDate())&&s--,t.age=s}else a({...t,age:""});a({...t,dob:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Age"}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:t.age,disabled:m,onChange:e=>{if(!m&&e.target.value){const a=new Date;a.setDate(15),a.setMonth(5);const r=ee(a.toISOString()).add(-1*e.target.value,"years");t.dob=ee(r).format("YYYY-MM-DD")}a({...t,age:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:We,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),I.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:We,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),P.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.employmentStatusId?Object(se.jsx)("span",{className:V.error,children:_.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:We,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),T.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.educationId?Object(se.jsx)("span",{className:V.error,children:_.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"patientId",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"nin",id:"nin",value:t.ninNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Phone Number *"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:e=>{st(e,"phoneNumber")}}),""!==_.phoneNumber?Object(se.jsx)("span",{className:V.error,children:_.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Alt. Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,onChange:e=>{st(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:We,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;Me(r),a({...t,countryId:r})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==_.countryId?Object(se.jsx)("span",{className:V.error,children:_.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;a({...t,stateId:e.target.value}),p.a.get("".concat(g,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(O)}}).then((e=>{H(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),Y.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==_.stateId?Object(se.jsx)("span",{className:V.error,children:_.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:We,children:[Object(se.jsx)("option",{value:"",children:"Select"}),q.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==_.district?Object(se.jsx)("span",{className:V.error,children:_.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:t.address,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==_.address?Object(se.jsx)("span",{className:V.error,children:_.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:t.landmark,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[d&&d.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:d.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:Ue(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{c(e),v(!0),d.splice(t,1)})(e,t),children:Object(se.jsx)(At.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{d.splice(e,1),j([...d])})(t),children:Object(se.jsx)(At.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:x&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:s.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve,children:[Object(se.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.relationshipId?Object(se.jsx)("span",{className:V.error,children:_.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:s.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve}),""!==_.firstName?Object(se.jsx)("span",{className:V.error,children:_.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:s.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:s.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve}),""!==_.lastName?Object(se.jsx)("span",{className:V.error,children:_.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(bt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:s.phone,id:"phone",onChange:e=>{((e,t)=>{c({...s,[t]:e.slice(0,10)})})(e.slice(0,10),"phone")}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:s.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:s.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:V.button,onClick:e=>{(()=>{let e={..._};return e.firstName=s.firstName?"":"First Name is required",e.lastName=s.lastName?"":"Last Name  is required.",e.relationshipId=s.relationshipId?"":"Relationship Type is required.",M({...e}),Object.values(e).every((e=>""==e))})()&&j([...d,s])},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"secondary",className:V.button,onClick:()=>{v(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(Z.a,{type:"button",variant:"contained",color:"primary",className:V.button,startIcon:Object(se.jsx)(zt.a,{}),onClick:()=>{v(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"uniqueId",children:"Unique ID No  * "}),Object(se.jsx)(He.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:rt,value:Q.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==_.uniqueId?Object(se.jsx)("span",{className:V.error,children:_.uniqueId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"dateOfRegistration",children:"Date of Enrollment * "}),Object(se.jsx)(He.a,{type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:t.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD"),onChange:rt,value:Q.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==_.dateOfRegistration?Object(se.jsx)("span",{className:V.error,children:_.dateOfRegistration}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(se.jsxs)(He.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:rt,value:Q.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" "}),te.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.entryPointId?Object(se.jsx)("span",{className:V.error,children:_.entryPointId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:!0===xe?Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Facility Name"}),Object(se.jsx)(He.a,{type:"text",name:"facilityName",id:"facilityName",onChange:rt,value:Q.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"HIV Status at Registration *"}),Object(se.jsxs)(He.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:rt,value:Q.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),ie.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.statusAtRegistrationId?Object(se.jsx)("span",{className:V.error,children:_.statusAtRegistrationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date of Confirmed HIV Test *"}),Object(se.jsx)(He.a,{type:"date",name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:t.dob,max:Q.dateOfRegistration,onChange:rt,value:Q.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==_.dateConfirmedHiv?Object(se.jsx)("span",{className:V.error,children:_.dateConfirmedHiv}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Source of Referral *"}),Object(se.jsxs)(He.a,{type:"select",name:"sourceOfReferrerId",id:"sourceOfReferrerId",value:Q.sourceOfReferrerId,onChange:rt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select "}),re.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.sourceOfReferrerId?Object(se.jsx)("span",{className:V.error,children:_.sourceOfReferrerId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Enrollment Setting *"}),Object(se.jsxs)(He.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:Q.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:rt,children:[Object(se.jsx)("option",{value:"",children:" Select"}),oe.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.enrollmentSettingId?Object(se.jsx)("span",{className:V.error,children:_.enrollmentSettingId}):""]})}),X&&t.age>9&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:" Pregnancy "}),Object(se.jsxs)(He.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:Q.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:rt,children:[Object(se.jsx)("option",{value:"",children:"Select "}),me.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),"72"!==Q.pregnancyStatusId&&Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date of LMP "}),Object(se.jsx)(He.a,{type:"date",name:"dateOfLpm",id:"dateOfLpm",max:i,onChange:rt,value:Q.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})})]}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"TB Status * "}),Object(se.jsxs)(He.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:Q.tbStatusId,onChange:rt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),de.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.tbStatusId?Object(se.jsx)("span",{className:V.error,children:_.tbStatusId}):""]})}),"false"===ve?Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Target Group *"}),Object(se.jsxs)(He.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:Q.targetGroupId,onChange:rt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),be.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==_.targetGroupId?Object(se.jsx)("span",{className:V.error,children:_.targetGroupId}):""]})}):"",Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:it}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),t.age<=14&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:it}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===ge&&Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Household Unique Number"}),Object(se.jsx)(He.a,{type:"text",name:"householdNumber",id:"householdNumber",required:ge,onChange:rt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Q.householdNumber})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Referred To OVC Partner"}),Object(se.jsx)(He.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:ge,onChange:rt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Q.referredToOVCPartner})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Referred To OVC Partner"}),Object(se.jsx)(He.a,{type:"date",name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:t.dob,max:Q.dateOfRegistration,onChange:rt,value:Q.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Referred From OVC Partner"}),Object(se.jsx)(He.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:ge,onChange:rt,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Q.referredFromOVCPartner})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(ze.a,{children:[Object(se.jsx)(qe.a,{children:"Date Referred From OVC Partner"}),Object(se.jsx)(He.a,{type:"date",name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:t.dob,max:Q.dateOfRegistration,onChange:rt,value:Q.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),b?Object(se.jsx)(Qe.a,{}):"",Object(se.jsx)("br",{}),"update"===ye.actionType?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Z.a,{type:"submit",variant:"contained",color:"primary",className:V.button,startIcon:Object(se.jsx)(Le.a,{}),onClick:async e=>{e.preventDefault();const a=S.find((e=>e.display===t.sexId));if(t.sexId=a.id,(()=>{let e={..._};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Sex is required.",e.dateOfRegistration1=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.targetGroupId=Q.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=Q.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrerId=Q.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=Q.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=Q.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=Q.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=Q.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=Q.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=Q.uniqueId?"":"Unique ID is required.",M({...e}),Object.values(e).every((e=>""==e))})()){let e=[];d&&d.length>0&&d.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));try{const a={active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:e,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.genderId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},r={type:"phone",value:t.phoneNumber};if(t.email){const e={type:"email",value:t.email};a.contactPoint.push(e)}if(t.altPhonenumber){const e={type:"altphone",value:t.altPhonenumber};a.contactPoint.push(e)}a.contactPoint.push(r),a.id=Se,W.person=a,W.hivEnrollment=Q;await p.a.put("".concat(g,"hiv/patient/").concat(Ce.id),W,{headers:{Authorization:"Bearer ".concat(O)}});o.b.success("Patient Updated successful"),G.push("/")}catch(r){if(r.response&&r.response.data){let e=r.response.data&&""!==r.response.data.apierror.message?r.response.data.apierror.message:"Something went wrong, please try again";o.b.error(e)}}}},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:b?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(se.jsx)(Z.a,{variant:"contained",className:V.button,startIcon:Object(se.jsx)(at.a,{}),onClick:()=>{G.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]}):""]})})]})})]})};function Wt(){return Object(se.jsx)(n.a,{children:Object(se.jsxs)("div",{children:[Object(se.jsx)(o.a,{}),Object(se.jsxs)(n.d,{children:[Object(se.jsx)(n.b,{path:"/patient-history",children:Object(se.jsx)(Pt,{})}),Object(se.jsx)(n.b,{path:"/register-patient",children:Object(se.jsx)(Ht,{})}),Object(se.jsx)(n.b,{path:"/enroll-patient",children:Object(se.jsx)(Mt,{})}),Object(se.jsx)(n.b,{path:"/update-patient",children:Object(se.jsx)(Lt,{})}),Object(se.jsx)(n.b,{path:"/",children:Object(se.jsx)(le,{})})]})]})})}var Ut=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,1158)).then((t=>{let{getCLS:a,getFID:r,getFCP:s,getLCP:c,getTTFB:i}=t;a(e),r(e),s(e),c(e),i(e)}))},Vt=a(674);let Gt="ltr";const Kt=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:Gt},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:Gt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:Gt},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:Gt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:Gt},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:Gt}],Xt=Object(r.createContext)();var Jt=e=>{const[t,a]=Object(r.useState)({value:"full",label:"Full"}),[s,c]=Object(r.useState)({value:"fixed",label:"Fixed"}),[i,n]=Object(r.useState)({value:"fixed",label:"Fixed"}),[o,l]=Object(r.useState)({value:"vertical",label:"Vertical"}),[d,j]=Object(r.useState)({value:"ltr",label:"LTR"}),[b,h]=Object(r.useState)("color_1"),[m,p]=Object(r.useState)("color_1"),[u,x]=Object(r.useState)("color_1"),[O,g]=Object(r.useState)("color_1"),[f,v]=Object(r.useState)(!1),[N,y]=Object(r.useState)(!1),[S,C]=Object(r.useState)({value:"light",label:"Light"}),[I,R]=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),T=document.querySelector("body"),[D,P]=Object(r.useState)(0),[w,A]=Object(r.useState)(0),E=e=>{h(e),T.setAttribute("data-primary",e)},k=e=>{p(e),T.setAttribute("data-nav-headerbg",e)},B=e=>{x(e),T.setAttribute("data-headerbg",e)},Y=e=>{g(e),T.setAttribute("data-sibebarbg",e)},z=e=>{c(e),T.setAttribute("data-sidebar-position",e.value)},q=e=>{j(e),T.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},H=e=>{"horizontal"===e.value&&"overlay"===t.value?(l(e),T.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),T.setAttribute("data-sidebar-style","full")):(l(e),T.setAttribute("data-layout",e.value))},_=e=>{"horizontal"===o.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),v("icon-hover"===e.value?"_i-hover":""),T.setAttribute("data-sidebar-style",e.value))},M=e=>{n(e),T.setAttribute("data-header-position",e.value)},F=e=>{T.setAttribute("data-theme-version",e.value),C(e)},L=e=>{R(e),T.setAttribute("data-container",e.value),"boxed"===e.value&&_({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{P(window.innerWidth),A(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(se.jsx)(Xt.Provider,{value:{body:T,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:s,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:b,navigationHader:m,windowWidth:D,windowHeight:w,changePrimaryColor:E,changeNavigationHader:k,changeSideBarStyle:_,sideBarStyle:t,changeSideBarPostion:z,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:M,headerposition:i,changeSideBarLayout:H,sidebarLayout:o,changeDirectionLayout:q,changeContainerPosition:L,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:u,chnageHaderColor:B,chnageSidebarColor:Y,sidebarColor:O,iconHover:f,menuToggle:N,openMenuToggle:()=>{"overly"===t.value?y(!0):y(!1)},changeBackground:F,background:S,containerPosition_:I,setDemoTheme:(e,t)=>{var a={},r=Kt[e];T.setAttribute("data-typography",r.typography),a.value=r.version,F(a),a.value=r.layout,H(a),E(r.primary),k(r.navheaderBg),B(r.headerBg),a.value=r.sidebarStyle,_(a),Y(r.sidebarBg),a.value=r.sidebarPosition,z(a),a.value=r.headerPosition,M(a),a.value=r.containerLayout,L(a),a.value=t,q(a)}},children:e.children})};i.a.render(Object(se.jsx)(s.a.StrictMode,{children:Object(se.jsx)(Vt.a,{children:Object(se.jsx)(f.a,{basename:"/",children:Object(se.jsx)(Jt,{children:Object(se.jsx)(Wt,{})})})})}),document.getElementById("root")),Ut()}},[[942,1,2]]]);
//# sourceMappingURL=main.a2e17758.chunk.js.map